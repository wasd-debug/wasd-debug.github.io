<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="baidu-site-verification" content="L6Lm9d5Crl"/>
  
  
  
  
  <title>凉介&#39;s personal blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="凉介&#39;s personal blog">
<meta property="og:url" content="http://yoursite.com/page/6/index.html">
<meta property="og:site_name" content="凉介&#39;s personal blog">
<meta property="og:locale" content="zh">
<meta property="article:author" content="Jian Shengnan">
<meta name="twitter:card" content="summary">
  
    <link rel="alternative" href="/atom.xml" title="凉介&#39;s personal blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/like.png">
  
  
  
<link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
    
    
  
  
      <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <!-- 加载特效 -->
    <script src="/js/pace.js"></script>
    <link href="/css/pace/pace-theme-flash.css" rel="stylesheet" />
  <script>
      var yiliaConfig = {
          fancybox: true,
          animate: true,
          isHome: true,
          isPost: false,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: true
      }
  </script>
<meta name="generator" content="Hexo 4.2.1"></head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        
<script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>

        <a href="/" class="profilepic">
            
            <img lazy-src="/img/1.png" class="js-avatar">
            
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">Jian Shengnan</a></h1>
        </hgroup>
        
        
            <form>
                <input type="text" class="st-default-search-input search" id="local-search-input" placeholder="搜索一下" autocomplete="off">
            </form>
            <div id="local-search-result"></div>
        
        
            <script type="text/javascript">
                (function() {
                    'use strict';
                    function getMatchData(keyword, data) {
                        var matchData = [];
                        for(var i =0;i<data.length;i++){
                            if(data[i].title.toLowerCase().indexOf(keyword)>=0) 
                                matchData.push(data[i])
                        }
                        return matchData;
                    }
                    var $input = $('#local-search-input');
                    var $resultContent = $('#local-search-result');
                    $input.keyup(function(){
                        $.ajax({
                            url: '/search.json',
                            dataType: "json",
                            success: function( json ) {
                                var str='<ul class=\"search-result-list\">';                
                                var keyword = $input.val().trim().toLowerCase();
                                $resultContent.innerHTML = "";
                                if ($input.val().trim().length <= 0) {
                                    $resultContent.empty();
                                    $('#switch-area').show();
                                    return;
                                }
                                var results = getMatchData(keyword, json);
                                if(results.length === 0){
                                    $resultContent.empty();
                                    $('#switch-area').show();
                                    return;
                                } 
                                for(var i =0; i<results.length; i++){
                                    str += "<li><a href='"+ results[i].url +"' class='search-result-title'>"+ results[i].title +"</a></li>";
                                }
                                str += "</ul>";
                                $resultContent.empty();
                                $resultContent.append(str);
                                $('#switch-area').hide();
                            }
                        });
                    });
                })();
            </script>
        
        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                    </div>
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                    </ul>
                </div>
            </div>
        
        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a  href="/archives/">所有文章</a></li>
                        
                            <li><a  href="/categories/%E5%AD%A6%E4%B9%A0/">学习</a></li>
                        
                            <li><a  href="/categories/%E7%BC%96%E7%A8%8B">编程</a></li>
                        
                            <li><a  href="/categories/%E7%AC%94%E8%AE%B0">笔记</a></li>
                        
                            <li><a  href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fl github"  target="_blank" href="https://github.com/wasd-debug" title="github">github</a>
                            
                                <a class="fl weibo"  target="_blank" href="https://www.weibo.com/7456794217/profile?topnav=1&wvr=6&is_all=1" title="weibo">weibo</a>
                            
                                <a class="fl rss"  target="_blank" href="/atom.xml" title="rss">rss</a>
                            
                        </ul>
                    </nav>
                </section>
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <a href="/tags/C/" style="font-size: 10px;">C++</a> <a href="/tags/%E5%85%A8%E5%8E%86%E5%8F%B2/" style="font-size: 18.57px;">全历史</a> <a href="/tags/%E5%AD%A6%E4%B9%A0/" style="font-size: 15.71px;">学习</a> <a href="/tags/%E5%AE%9E%E9%AA%8C/" style="font-size: 12.86px;">实验</a> <a href="/tags/%E7%A7%91%E6%8A%80%E5%8F%B2/" style="font-size: 18.57px;">科技史</a> <a href="/tags/%E7%AC%94%E8%AE%B0/" style="font-size: 14.29px;">笔记</a> <a href="/tags/%E7%BC%96%E7%A8%8B/" style="font-size: 11.43px;">编程</a> <a href="/tags/%E7%BC%96%E7%A8%8B%E5%B7%A5%E5%85%B7/" style="font-size: 10px;">编程工具</a> <a href="/tags/%E8%AF%97%E7%BB%8F/" style="font-size: 20px;">诗经</a> <a href="/tags/%E9%98%85%E8%AF%BB/" style="font-size: 17.14px;">阅读</a>
                    </div>
                </section>
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="https://blog.csdn.net/weixin_46698891">csdn</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="https://segmentfault.com/blog/maocg_web">segmentfault</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="https://www.jianshu.com/u/1640e500283a">简书</a>
                    
                    </div>
                </section>
                
                
            </div>
        </div>
    </header>
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">Jian Shengnan</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                
                    <img lazy-src="/img/1.png" class="js-avatar">
                
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">Jian Shengnan</a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/categories/%E5%AD%A6%E4%B9%A0/">学习</a></li>
                
                    <li><a href="/categories/%E7%BC%96%E7%A8%8B">编程</a></li>
                
                    <li><a href="/categories/%E7%AC%94%E8%AE%B0">笔记</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                <div class="social">
                    
                        <a class="github" target="_blank" href="https://github.com/wasd-debug" title="github">github</a>
                    
                        <a class="weibo" target="_blank" href="https://www.weibo.com/7456794217/profile?topnav=1&wvr=6&is_all=1" title="weibo">weibo</a>
                    
                        <a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
                    
                </div>
            </nav>
        </header>
    </div>
</nav>
      <div class="body-wrap">
  
    <article id="post-新月地带出现原始农业" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2020/07/03/%E6%96%B0%E6%9C%88%E5%9C%B0%E5%B8%A6%E5%87%BA%E7%8E%B0%E5%8E%9F%E5%A7%8B%E5%86%9C%E4%B8%9A/" class="article-date">
      <time datetime="2020-07-02T16:00:00.000Z" itemprop="datePublished">2020-07-03</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2020/07/03/%E6%96%B0%E6%9C%88%E5%9C%B0%E5%B8%A6%E5%87%BA%E7%8E%B0%E5%8E%9F%E5%A7%8B%E5%86%9C%E4%B8%9A/">科技史—新月地带出现原始农业</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="科技史-新月地带出现原始农业"><a href="#科技史-新月地带出现原始农业" class="headerlink" title="科技史-新月地带出现原始农业"></a>科技史-新月地带出现原始农业</h1><blockquote>
<p>约公元前9000年~公元前8000年 亚洲、非洲</p>
<p>新月地区的原始农业是人工栽培作物和定居农业的历史发端。</p>
</blockquote>
<p>新月沃土，或称肥沃月弯，是指西亚、北非地区两河流域及附近的肥沃土地。由于其分布地带在地图上就像一弯新月，因此美国芝加哥大学的考古学家称之为“肥沃月弯”。</p>
<p>古代新月沃土地区的气候促成了许多一年生植物的进化，它们可食用的种子的产量要多于多年生的植物，这些植物的多样性也使得生活在这里的早期人类可以开展农业栽培试验。在新月地带，普遍发现了距今1万年左右的古人类遗址，这些遗址与野生小麦和大麦的分布地点相吻合。说明1万年前，他们已经开始用经过人工筛选的大麦和小麦种子开始种植。</p>
<p>在约公元前9000-前8000年的沙尼达-萨维·可米遗址出土的遗物中有式杵、石臼、石磨、骨镰等工具，用于采集和加工食物。两处遗址的先民害没有完全定居，处于农业最初的发生时期。</p>
<p>而约公元前8500年的耶利哥遗址，发现有当时种植的小麦、大麦、豌豆、扁豆以及无花果的痕迹。先民们住在长方形的茅屋里，已形成定居村落，有城墙、城堡及壕沟，是世界上最早的农业村落。</p>
<p>在萨迈拉，考古学家还发现了公元前6000年的灌溉渠，说明在公元前6000年左右的美索不达米亚，人类已经掌握农业和灌溉技术。这也是生活在南部冲积平原，又被称为苏美尔地区的早期人类逐渐从采集狩猎而开始定居的必要条件之一。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/%E5%85%A8%E5%8E%86%E5%8F%B2/">全历史</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%85%A8%E5%8E%86%E5%8F%B2/" rel="tag">全历史</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%A7%91%E6%8A%80%E5%8F%B2/" rel="tag">科技史</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-早期酿酒工艺出现" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2020/07/03/%E6%97%A9%E6%9C%9F%E9%85%BF%E9%85%92%E5%B7%A5%E8%89%BA%E5%87%BA%E7%8E%B0/" class="article-date">
      <time datetime="2020-07-02T16:00:00.000Z" itemprop="datePublished">2020-07-03</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2020/07/03/%E6%97%A9%E6%9C%9F%E9%85%BF%E9%85%92%E5%B7%A5%E8%89%BA%E5%87%BA%E7%8E%B0/">科技史—早期酿酒工艺的出现</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="早期酿酒工艺出现"><a href="#早期酿酒工艺出现" class="headerlink" title="早期酿酒工艺出现"></a>早期酿酒工艺出现</h1><blockquote>
<p>约公元前6000年 亚洲、欧洲</p>
<p>人类学会酿酒是人为利用微生物的表现，这一工艺和方法丰富了人类的饮食结构</p>
</blockquote>
<p>人类酿酒的历史源远流长。约5万-4万年前的旧石器时代，已经有了最初的酒。最初的酒是含糖物质在酵母菌的作用下自然形成的。在自然界中存在着大量的含糖野果，而在空气里、尘埃中和果皮上都有酵母菌。在适当的水分和温度条件下，酵母菌就有可能使果汁变成酒浆，自然形成了酒。</p>
<p>真正称得上有意识的人为酿酒活动，是在人类进入新石器时代，出现了农业之后开始的。这时人类有了比较充裕的粮食储备，同时又出现了盛物器皿的制作技术，这两个条件使酒的生产成为可能。</p>
<p>约在公元前6000年，美索不达米亚地区就已出现雕刻着啤酒制作方法的黏土板。约公元前4000年，美索不达米亚地区已经用大麦、小麦、蜂蜜等制作了16中啤酒。约公元前3000年，该地区已开始使用苦味剂酿造啤酒。</p>
<p>学者一般认为，仰韶文化是中国谷物酿酒工艺的“萌芽期”。龙山文化遗址出土的陶器中有不少尊，高脚杯，小壶等酒器，这表明当时酿酒已进入盛行期。</p>
<p>从人类自发利用微生物到人为控制微生物，制造出酒曲，酒的酿造可谓发生了革命性的变化。酒曲中含有使淀粉糖化的丝状菌和促成酒化的酵母菌。利用酒曲产酒将淀粉质原料的糖化和酒化两大步结合起来，这在酿酒技术上是一个很大的进步。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/%E5%85%A8%E5%8E%86%E5%8F%B2/">全历史</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%85%A8%E5%8E%86%E5%8F%B2/" rel="tag">全历史</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%A7%91%E6%8A%80%E5%8F%B2/" rel="tag">科技史</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-图书管理系统实验报告" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2020/07/03/%E5%9B%BE%E4%B9%A6%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/" class="article-date">
      <time datetime="2020-07-02T16:00:00.000Z" itemprop="datePublished">2020-07-03</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2020/07/03/%E5%9B%BE%E4%B9%A6%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/">图书管理系统</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="图书管理系统实验报告"><a href="#图书管理系统实验报告" class="headerlink" title="图书管理系统实验报告"></a>图书管理系统实验报告</h1><h2 id="实验题目分析"><a href="#实验题目分析" class="headerlink" title="实验题目分析"></a>实验题目分析</h2><p>题目要求我们制作图书管理系统，支持的功能有，图书借阅、图书管理、用户管理等功能。</p>
<p>图书借阅管理包括：图书借阅、图书归还、借阅信息查看等功能。</p>
<p>图书管理主要包括图书的增加，删除，修改，查看，统计等功能。</p>
<p>用户管理主要包括用户的注册，登录，修改密码，修改个人信息，设置用户类型等功能。</p>
<p>运用继承，多态，重载等知识进行设计。</p>
<h2 id="实验设计"><a href="#实验设计" class="headerlink" title="实验设计"></a>实验设计</h2><p>图书管理系统（类图）.png</p>
<p>图书管理系统（类图）.png</p>
<p>如图所示，由于我对文件操作相关操作不熟悉，所以我开始的想法是，把用户，图书管理员，系统管理员的基本文件相关操作进行封装，形成UserFileManageAdd，SysManage_FileManage,UserFileManage,LiaManage_FileManage四个类，所以，在我的设计中，主要是依靠从文件中获取和分割信息，很少存在对成员变量的操作，或者说成员变量只是在其中起辅助作用。LiaManage图书管理员类和User用户类，继承了文件操作的基础功能，进行进一步封装，并添加了自己的具体功能。系统管理员功能直接应用SysManage_FileManage类，完成全部功能。每种功能通过数字选项进行区分和调用。登录时，也是通过数字选项进入不同的界面（展示不同的功能选项）。普通用户可以进行注册和登录，图书管理员只能进行登录，其信息全部由系统管理员修改和增加，系统管理员通过特殊口令进入管理系统。文件中的信息，以空格和换行分割。代表的信息如图所示。</p>
<h2 id="核心代码"><a href="#核心代码" class="headerlink" title="核心代码"></a>核心代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//User_FileManageadd.h</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> once</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User_FileManageadd</span> //该类只添加一个函数，进行普通用户注册时的信息遍历</span></span><br><span class="line"><span class="class">    //确认该学号确实没有经过注册</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">Cek_for_registration</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//User_FileManageadd.cpp</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"User_FileManageadd.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">User_FileManageadd::Cek_for_registration</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> info[<span class="number">10</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"注册前，请输入学号确认，您曾经没有注册："</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; info;</span><br><span class="line">    fstream file;</span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"Userinfo.txt"</span>, ios::in);</span><br><span class="line">    <span class="keyword">if</span> (!file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">256</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">char</span>* token = <span class="keyword">new</span> <span class="keyword">char</span>;</span><br><span class="line">    <span class="keyword">while</span> (!file.eof())</span><br><span class="line">    &#123;</span><br><span class="line">        file.getline(str, <span class="number">255</span>);</span><br><span class="line">        token = strtok(str, <span class="string">" "</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(str, info) == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"您的账户已注册，若未注册，请联系系统管理员"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            file.<span class="built_in">close</span>();</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//UserFileManage.h</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> once</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">"User_FileManageadd.h"</span></span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserFileManage</span> :</span><span class="keyword">public</span> User_FileManageadd<span class="comment">//该类实现了系统的一些基础功能</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">//进行文件路径初始化</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">LogFile_addlog</span><span class="params">(<span class="keyword">char</span>*)</span></span>;<span class="comment">//普通用户进行增加借还日志</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">UInfoFile_addinfo</span><span class="params">(<span class="keyword">char</span>*)</span></span>;<span class="comment">//普通用户进行增加个人信息（注册）（存在注册前的检查行为）</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">UInfoFile_change</span><span class="params">()</span></span>;<span class="comment">//普通用户和图书管理员信息的修改</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">BInfoFile_searchbook</span><span class="params">(<span class="keyword">char</span>* info)</span></span>;<span class="comment">//普通用户和图书管理员进行找书</span></span><br><span class="line">    <span class="comment">//图书管理员的信息全部由系统管理员增加，不提供注册功能</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//UserFileManage.cpp</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">"UserFileManage.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cin</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::fstream;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::ofstream;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::ios;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">UserFileManage::LogFile_addlog</span><span class="params">(<span class="keyword">char</span>* info)</span><span class="comment">//进行日志文件的增加</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    fstream file;</span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"BorrowLog.txt"</span>, ios::app);</span><br><span class="line">    <span class="keyword">if</span> (!file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败！"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    file &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">    file &lt;&lt; info;</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">UserFileManage::UInfoFile_change</span><span class="params">()</span><span class="comment">//进行个人信息的修改（包括密码）</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入您的学（工）号\n"</span>;</span><br><span class="line">    <span class="keyword">char</span> info[<span class="number">7</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%s"</span>, info);</span><br><span class="line">    fstream file;</span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">256</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">char</span>* token = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">256</span>];</span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"Userinfo.txt"</span>, ios::in);</span><br><span class="line">    <span class="keyword">if</span> (!file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (!file.eof())</span><br><span class="line">    &#123;</span><br><span class="line">        file.getline(str, <span class="number">100</span>);</span><br><span class="line">        token = strtok(str, <span class="string">" "</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(info, token) == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">char</span>* id = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* cord = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* name = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* sex = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* phone = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* number = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* maxnum = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* maxday = token;</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line">    <span class="comment">//得到各个信息</span></span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"Userinfo.txt"</span>, ios::in);</span><br><span class="line">    <span class="keyword">if</span> (!file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">char</span> str1[<span class="number">256</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">char</span>* token1 = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">char</span> <span class="built_in">buffer</span>[<span class="number">10000</span>] = <span class="string">""</span>;</span><br><span class="line">    token1 = <span class="keyword">new</span> <span class="keyword">char</span>;</span><br><span class="line">    <span class="keyword">while</span> (!file.eof())</span><br><span class="line">    &#123;</span><br><span class="line">        file.getline(str1, <span class="number">100</span>);</span><br><span class="line">        <span class="keyword">char</span>* str2 = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(str1) + <span class="number">1</span>];</span><br><span class="line">        <span class="built_in">strcpy</span>(str2, str1);</span><br><span class="line"></span><br><span class="line">        token1 = strtok(str1, <span class="string">" "</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(token1, info) == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">strcat</span>(<span class="built_in">buffer</span>, str2);</span><br><span class="line">        <span class="built_in">strcat</span>(<span class="built_in">buffer</span>, <span class="string">"\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line"></span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"Userinfo.txt"</span>, ios::out);</span><br><span class="line">    <span class="keyword">int</span> judge;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt;</span><br><span class="line">        <span class="string">"请输入您将要改变的信息：(更改密码请按1/姓名请按2/性别请按3/联系方式请按4，结束请按0，修改学（工）号请联系系统管理员）："</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; judge;</span><br><span class="line">    <span class="keyword">if</span> (judge == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"更改前，请输入密码:"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">char</span> fcord[<span class="number">20</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; fcord;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">strcmp</span>(fcord, cord) == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"密码正确"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"请重新确认您要修改的内容的编号："</span>;</span><br><span class="line">        <span class="keyword">while</span> (judge != <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; judge;</span><br><span class="line">            <span class="keyword">switch</span> (judge)</span><br><span class="line">            &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入更改后的密码(最多19位):"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                <span class="built_in">cin</span> &gt;&gt; cord;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"更改成功，请继续输入您下一步将要更改的信息"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入更改后的姓名："</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                <span class="built_in">cin</span> &gt;&gt; name;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"更改成功，请继续输入您下一步将要更改的信息"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入更改后的性别："</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">                <span class="built_in">cin</span> &gt;&gt; sex;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"更改成功，请继续输入您下一步将要更改的信息"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入更改后的联系方式"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                <span class="built_in">cin</span> &gt;&gt; phone;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"更改成功，请继续输入您下一步将要更改的信息"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"您输入的编号有误，请输入1-4的代码"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"已结束更改"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"密码输入错误"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">char</span> result[<span class="number">1000</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="built_in">strcat</span>(result, id);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, cord);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, name);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, sex);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, phone);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, number);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, maxnum);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, maxday);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">"\n"</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="built_in">buffer</span>);</span><br><span class="line">    file &lt;&lt; result;</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">UserFileManage::BInfoFile_searchbook</span><span class="params">(<span class="keyword">char</span>* info)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    fstream file;</span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">256</span>];</span><br><span class="line">    <span class="keyword">char</span>* token = <span class="literal">NULL</span>;</span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"BookInfo.txt"</span>, ios::in);</span><br><span class="line">    <span class="keyword">if</span> (!file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (file.getline(str, <span class="number">100</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        token = strtok(str, <span class="string">" "</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(token, info) == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"图书编号\t书名\t\t出版日期\t出版社\t\t页数\t作者\t\n"</span>);</span><br><span class="line">    <span class="keyword">while</span> (token != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%s \t"</span>, token);</span><br><span class="line">        token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">UserFileManage::UInfoFile_addinfo</span><span class="params">(<span class="keyword">char</span>* info)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    User_FileManageadd u;</span><br><span class="line">    fstream file;</span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"Userinfo.txt"</span>, ios::app);</span><br><span class="line">    <span class="keyword">if</span> (file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        file &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">        file &lt;&lt; info;</span><br><span class="line">        file.<span class="built_in">close</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//LiaManage_FileManage.h</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> once</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">"UserFileManage.h"</span></span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LiaManage_FileManage</span> :</span><span class="keyword">public</span> UserFileManage</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">TranverseLog</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">TranverseBook</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">AddBook</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">DeleteBook</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">ChangeBook</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">SearchLog</span><span class="params">(<span class="keyword">char</span>* info)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">SearchBook</span><span class="params">()</span></span>;</span><br><span class="line">    ostream &amp; <span class="keyword">operator</span>&lt;&lt;(ostream &amp; out);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//LiaManage_FileManage.cpp</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"LiaManage_FileManage.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">LiaManage_FileManage::TranverseLog</span><span class="params">()</span><span class="comment">//图书管理员进行遍历输出借还日志输出</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    fstream file;</span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"BorrowLog.txt"</span>, ios::in);</span><br><span class="line">    <span class="keyword">char</span>* str = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">256</span>];</span><br><span class="line">    <span class="keyword">if</span> (!file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (!file.eof())</span><br><span class="line">    &#123;</span><br><span class="line">        file.getline(str, <span class="number">100</span>);</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; str &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">delete</span>[] str;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">LiaManage_FileManage::TranverseBook</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    fstream file;</span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"BookInfo.txt"</span>, ios::in);</span><br><span class="line">    <span class="keyword">if</span> (file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">char</span>* str = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">256</span>];</span><br><span class="line">        <span class="keyword">while</span> (!file.eof())</span><br><span class="line">        &#123;</span><br><span class="line">            file.getline(str, <span class="number">256</span>);</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; str &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">delete</span>[] str;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">LiaManage_FileManage::AddBook</span><span class="params">()</span><span class="comment">//图书管理员进行增书操作</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    fstream file;</span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"BookInfo.txt"</span>, ios::app);</span><br><span class="line">    <span class="keyword">if</span> (!file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入增加图书的信息：（按照：编号 书名 出版日期 出版社 页数 作者的格式输入）"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">256</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="built_in">cin</span>.<span class="built_in">get</span>();</span><br><span class="line">    <span class="built_in">cin</span>.<span class="built_in">get</span>(str, <span class="number">200</span>);</span><br><span class="line"></span><br><span class="line">    file &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">    file &lt;&lt; str;</span><br><span class="line">    file &lt;&lt; <span class="string">" 1"</span>;</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">LiaManage_FileManage::DeleteBook</span><span class="params">()</span><span class="comment">//图书管理员进行删除书操作</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入将要删除的书14位编号"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">char</span>* info = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">15</span>];</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; info;</span><br><span class="line">    fstream file;</span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"BookInfo.txt"</span>, ios::in);</span><br><span class="line">    <span class="keyword">if</span> (!file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">char</span> str1[<span class="number">256</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">char</span>* token1 = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">char</span> <span class="built_in">buffer</span>[<span class="number">10000</span>] = <span class="string">""</span>;</span><br><span class="line">    token1 = <span class="keyword">new</span> <span class="keyword">char</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!file.eof())</span><br><span class="line">    &#123;</span><br><span class="line">        file.getline(str1, <span class="number">100</span>);</span><br><span class="line">        <span class="keyword">char</span>* str2 = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(str1) + <span class="number">1</span>];</span><br><span class="line">        <span class="built_in">strcpy</span>(str2, str1);</span><br><span class="line">        token1 = strtok(str1, <span class="string">" "</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(token1, info) == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="built_in">strcat</span>(<span class="built_in">buffer</span>, str2);</span><br><span class="line">        <span class="built_in">strcat</span>(<span class="built_in">buffer</span>, <span class="string">"\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line"></span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"BookInfo.txt"</span>, ios::out);</span><br><span class="line">    <span class="keyword">if</span> (!file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    file &lt;&lt; <span class="built_in">buffer</span>;</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"删除成功！"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">LiaManage_FileManage::ChangeBook</span><span class="params">()</span><span class="comment">//图书管理员进行改变书信息操作</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入您将要修改信息的图书14位编号"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">char</span>* info = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">256</span>];</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; info;</span><br><span class="line">    fstream file;</span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"BookInfo.txt"</span>, ios::in);</span><br><span class="line">    <span class="keyword">if</span> (!file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">char</span>* str = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">256</span>];</span><br><span class="line">    <span class="keyword">char</span>* token = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">256</span>];</span><br><span class="line">    <span class="keyword">while</span> (!file.eof())</span><br><span class="line">    &#123;</span><br><span class="line">        file.getline(str, <span class="number">256</span>);</span><br><span class="line">        token = strtok(str, <span class="string">" "</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(info, token) == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//进行信息分割</span></span><br><span class="line">    <span class="keyword">char</span>* id = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* name = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* date = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* Pubhouse = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* page = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* author = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* state = token;</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line"></span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"BookInfo.txt"</span>, ios::in);</span><br><span class="line">    <span class="keyword">if</span> (!file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">char</span> str1[<span class="number">256</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">char</span>* token1 = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">char</span> <span class="built_in">buffer</span>[<span class="number">10000</span>] = <span class="string">""</span>;</span><br><span class="line">    token1 = <span class="keyword">new</span> <span class="keyword">char</span>;</span><br><span class="line">    <span class="keyword">while</span> (!file.eof())</span><br><span class="line">    &#123;</span><br><span class="line">        file.getline(str1, <span class="number">100</span>);</span><br><span class="line">        <span class="keyword">char</span>* str2 = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(str1) + <span class="number">1</span>];</span><br><span class="line">        <span class="built_in">strcpy</span>(str2, str1);</span><br><span class="line">        token1 = strtok(str1, <span class="string">" "</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(token1, info) == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">strcat</span>(<span class="built_in">buffer</span>, str2);</span><br><span class="line">        <span class="built_in">strcat</span>(<span class="built_in">buffer</span>, <span class="string">"\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line"></span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"BookInfo.txt"</span>, ios::out);</span><br><span class="line">    <span class="keyword">if</span> (!file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"请问您将修改该书的哪项信息."</span> &lt;&lt; <span class="built_in">endl</span> &lt;&lt;</span><br><span class="line">        <span class="string">"(编号请按1，书名请按2，出版日期请按3，出版社请按4 ，页数请按5，作者请按6，退出请按0"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">int</span> judge1, judge2;</span><br><span class="line">    judge1 = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (judge1 != <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; judge1;</span><br><span class="line">        <span class="keyword">switch</span> (judge1)</span><br><span class="line">        &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入更改后书的编号"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; id;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"您是否将编号改为"</span> &lt;&lt; id &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"确认请按1，取消请按0；"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; judge2;</span><br><span class="line">            <span class="keyword">if</span> (!judge2)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"请重新选择您将要改变的信息"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"更改成功，请继续输入您下一步将要更改的信息"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入更改后的书名"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; name;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"您是否将书名改为"</span> &lt;&lt; name &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"确认请按1，取消请按0 ；"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; judge2;</span><br><span class="line">            <span class="keyword">if</span> (!judge2)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"请重新选择您下一步将要更改信息的编号"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"更改成功，请继续输入您下一步将要更改的信息"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入更改后的出版日期"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; date;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"您是否将出版日期更改为"</span> &lt;&lt; date &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"确认请按1，取消请按0"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; judge2;</span><br><span class="line">            <span class="keyword">if</span> (!judge2)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"请重新选择您下一步将要更改信息的编号"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"更改成功，请继续输入您下一步将要更改的信息"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入更改后的出版社"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; Pubhouse;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"您是否将出版社更改为"</span> &lt;&lt; Pubhouse &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"确认请按1，取消请按0"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; judge2;</span><br><span class="line">            <span class="keyword">if</span> (!judge2)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"请重新选择您下一步将要更改信息的编号"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"更改成功，请继续输入您下一步将要更改的信息"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入更改后的页数"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; page;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"您是否将页数更改问"</span> &lt;&lt; page &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"确认请按1，取消请按0"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; judge2;</span><br><span class="line">            <span class="keyword">if</span> (!judge2)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"请重新选择您下一步将要更改信息的编号"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"更改成功，请继续输入您下一步将要更改的信息"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入更改后的作者"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; author;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"您是否将作者改为"</span> &lt;&lt; author &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"确认请按1，取消请按0"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; judge2;</span><br><span class="line">            <span class="keyword">if</span> (!judge2)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"请重新选择您下一步将要更改信息的编号"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"更改成功，请继续输入您下一步将要更改的信息"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"图书信息修改即将结束"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"图书信息修改结束"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入0-6选项进行图书信息的修改"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">char</span> result[<span class="number">10000</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="built_in">strcat</span>(result, id);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, name);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, date);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, Pubhouse);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, page);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, author);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, state);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">"\n"</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="built_in">buffer</span>);</span><br><span class="line">    file &lt;&lt; result;</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">LiaManage_FileManage::SearchLog</span><span class="params">(<span class="keyword">char</span>* info)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">256</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">char</span>* token = <span class="keyword">new</span> <span class="keyword">char</span>;</span><br><span class="line">    fstream file;</span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"BorrowLog.txt"</span>, ios::in);</span><br><span class="line">    <span class="keyword">if</span> (!file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (!file.eof())</span><br><span class="line">    &#123;</span><br><span class="line">        file.getline(str, <span class="number">255</span>);</span><br><span class="line"></span><br><span class="line">        token = strtok(str, <span class="string">" "</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(token, info) == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">while</span> (token != <span class="literal">NULL</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%s \t"</span>, token);</span><br><span class="line">                token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">LiaManage_FileManage::SearchBook</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> info[<span class="number">50</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入您查找图书的编号"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; info;</span><br><span class="line">    fstream file;</span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">256</span>];</span><br><span class="line">    <span class="keyword">char</span>* token = <span class="literal">NULL</span>;</span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"BookInfo.txt"</span>, ios::in);</span><br><span class="line">    <span class="keyword">if</span> (!file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (file.getline(str, <span class="number">100</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        token = strtok(str, <span class="string">" "</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(token, info) == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (token != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%s \t"</span>, token);</span><br><span class="line">        token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//User.h</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> once</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"UserFileManage.h"</span></span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> :</span><span class="keyword">public</span> UserFileManage</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    <span class="keyword">char</span>* id = <span class="keyword">new</span> <span class="keyword">char</span>;</span><br><span class="line">    <span class="keyword">char</span>* passcord = (<span class="keyword">char</span>*)<span class="string">"123456"</span>;</span><br><span class="line">    <span class="keyword">char</span>* name = <span class="keyword">new</span> <span class="keyword">char</span>;</span><br><span class="line">    <span class="keyword">char</span>* sex = <span class="keyword">new</span> <span class="keyword">char</span>;</span><br><span class="line">    <span class="keyword">char</span>* phone = <span class="keyword">new</span> <span class="keyword">char</span>;</span><br><span class="line">    <span class="keyword">char</span>* num = (<span class="keyword">char</span>*)<span class="string">"0"</span>;</span><br><span class="line">    <span class="keyword">char</span>* maxnum = (<span class="keyword">char</span>*)<span class="string">"5"</span>;</span><br><span class="line">    <span class="keyword">char</span>* maxday = (<span class="keyword">char</span>*)<span class="string">"30"</span>;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    User() = <span class="keyword">default</span>;<span class="comment">// ......</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">ChangeInfo</span><span class="params">()</span></span>;<span class="comment">//成功，可能存在潜在问题</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">DisplayInfo</span><span class="params">()</span></span>;<span class="comment">//成功</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">DisplayLog</span><span class="params">()</span></span>;<span class="comment">//成功</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">SearchBook</span><span class="params">()</span></span>;<span class="comment">//成功</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">judge</span><span class="params">()</span></span>;<span class="comment">//成功</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Register</span><span class="params">()</span></span>;<span class="comment">//成功</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//修改用户信息文件中的借阅数量和编号</span></span><br><span class="line">    <span class="comment">//修改图书信息文件中的状态码</span></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Borrow</span><span class="params">()</span></span>;<span class="comment">//成功，需要实现用户借书数量的增加操作</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Return</span><span class="params">()</span></span>;<span class="comment">//需要实现用户借书数量的减小操作</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">ChangeBookinfob</span><span class="params">(<span class="keyword">char</span>*)</span></span>;<span class="comment">//成功</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">ChangeBookinfor</span><span class="params">(<span class="keyword">char</span>*)</span></span>;<span class="comment">//成功</span></span><br><span class="line">    User(<span class="keyword">char</span>* id, <span class="keyword">char</span>* cord);<span class="comment">//成功</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Setnum</span><span class="params">(<span class="keyword">char</span>*,<span class="keyword">int</span>)</span></span>;<span class="comment">//</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Login</span><span class="params">()</span></span>;<span class="comment">//成功</span></span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//User.cpp</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"User.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;sstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdexcept&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">enum</span> ERROR &#123; OverdueError &#125;;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">judgecord</span><span class="params">(<span class="keyword">char</span>* id ,<span class="keyword">char</span>* cord)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    fstream file;</span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"Userinfo.txt"</span>, ios::in);</span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">256</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">char</span>* token = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">256</span>];</span><br><span class="line">    <span class="keyword">if</span> (!file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (!file.eof())</span><br><span class="line">    &#123;</span><br><span class="line">        file.getline(str, <span class="number">255</span>);</span><br><span class="line">        token = strtok(str, <span class="string">" "</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(token, id) == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* cord1 = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(token) + <span class="number">1</span>];</span><br><span class="line">    <span class="built_in">strcpy</span>(cord1, token);</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">strcmp</span>(cord1, cord) != <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"密码错误,请重新登入"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">User::User(<span class="keyword">char</span>* id, <span class="keyword">char</span>* cord)</span><br><span class="line">&#123;</span><br><span class="line">    judgecord(id, cord);</span><br><span class="line">    fstream file;</span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"Userinfo.txt"</span>, ios::in);</span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">256</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">char</span>* token = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">256</span>];</span><br><span class="line">    <span class="keyword">if</span> (!file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (!file.eof())</span><br><span class="line">    &#123;</span><br><span class="line">        file.getline(str, <span class="number">255</span>);</span><br><span class="line">        token = strtok(str, <span class="string">" "</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(token, id) == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>-&gt;id = id;</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">User::ChangeInfo</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    UserFileManage u;</span><br><span class="line">    u.UInfoFile_change();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">User::DisplayInfo</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    fstream file;</span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"Userinfo.txt"</span>, ios::in);</span><br><span class="line">    <span class="keyword">if</span> (!file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">256</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">char</span>* token = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">100</span>];</span><br><span class="line">    <span class="keyword">while</span> (!file.eof())</span><br><span class="line">    &#123;</span><br><span class="line">        file.getline(str, <span class="number">255</span>);</span><br><span class="line">        token = strtok(str, <span class="string">" "</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(str, id) == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (token != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; token;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">        token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">User::Borrow</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    fstream file;</span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"Userinfo.txt"</span>, ios::in);</span><br><span class="line">    <span class="keyword">if</span> (!file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">256</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">char</span>*token = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">256</span>];</span><br><span class="line">    <span class="keyword">while</span> (!file.eof())</span><br><span class="line">    &#123;</span><br><span class="line">        file.getline(str, <span class="number">255</span>);</span><br><span class="line">        token = strtok(str, <span class="string">" "</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(token, id) == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* num = token;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">strcmp</span>(num,maxnum)==<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"您的借书数量已达上限"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入您借阅书籍的编号"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">char</span>* info = <span class="keyword">new</span> <span class="keyword">char</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; info;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span>* bookid = <span class="keyword">new</span> <span class="keyword">char</span>;</span><br><span class="line">    <span class="keyword">char</span>* bookname = <span class="keyword">new</span> <span class="keyword">char</span>;</span><br><span class="line">    <span class="keyword">char</span>* pubdate = <span class="keyword">new</span> <span class="keyword">char</span>;</span><br><span class="line">    <span class="keyword">char</span>* pubhouse = <span class="keyword">new</span> <span class="keyword">char</span>;</span><br><span class="line">    <span class="keyword">char</span>* page = <span class="keyword">new</span> <span class="keyword">char</span>;</span><br><span class="line">    <span class="keyword">char</span>* author = <span class="keyword">new</span> <span class="keyword">char</span>;</span><br><span class="line">    <span class="keyword">char</span>* state = <span class="keyword">new</span> <span class="keyword">char</span>;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">char</span>* token1 = <span class="keyword">new</span> <span class="keyword">char</span>;</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"BookInfo.txt"</span>, ios::in);</span><br><span class="line">    <span class="keyword">if</span> (!file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">char</span>* str1 = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">256</span>];</span><br><span class="line">    <span class="keyword">while</span> (!file.eof())</span><br><span class="line">    &#123;</span><br><span class="line">        file.getline(str1, <span class="number">255</span>);</span><br><span class="line">        token1 = strtok(str1, <span class="string">" "</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(token1, info) == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    bookid = token1;</span><br><span class="line">    token1 = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    bookname = token1;</span><br><span class="line">    token1 = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    pubdate = token1;</span><br><span class="line">    token1 = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    pubhouse = token1;</span><br><span class="line">    token1 = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    page = token1;</span><br><span class="line">    token1 = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    author = token1;</span><br><span class="line">    token1 = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    state = token1;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">strcmp</span>(state, <span class="string">"0"</span>) == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"该书已借出"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入借阅时间"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">char</span>* date = <span class="keyword">new</span> <span class="keyword">char</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; date;</span><br><span class="line">    <span class="keyword">char</span> result[<span class="number">256</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="built_in">strcat</span>(result,bookid);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, bookname);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, id);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, date);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">"0"</span>);</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line">    UserFileManage u;</span><br><span class="line">    </span><br><span class="line">    u.LogFile_addlog(result);</span><br><span class="line">    ChangeBookinfob(bookid);</span><br><span class="line">    Setnum(id, <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">User::Return</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span>* info = <span class="keyword">new</span> <span class="keyword">char</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入您归还书籍的编号"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; info;</span><br><span class="line">    fstream file;</span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"BorrowLog.txt"</span>, ios::in);</span><br><span class="line">    <span class="keyword">if</span> (!file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">256</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">char</span>* token = <span class="keyword">new</span> <span class="keyword">char</span>;</span><br><span class="line">    <span class="keyword">while</span> (!file.eof())</span><br><span class="line">    &#123;</span><br><span class="line">        file.getline(str,<span class="number">255</span>);</span><br><span class="line">        token = strtok(str, <span class="string">" "</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(token, info) == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">char</span>* bookid = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* bookname = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* ID = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* date = token;</span><br><span class="line">    <span class="built_in">string</span> d = date;</span><br><span class="line">    <span class="keyword">int</span> a = atoi(d.c_str());</span><br><span class="line">    <span class="keyword">int</span> year = a / <span class="number">10000</span>;</span><br><span class="line">    <span class="keyword">int</span> month = a % <span class="number">10000</span> / <span class="number">100</span>;</span><br><span class="line">    <span class="keyword">int</span> day = a % <span class="number">10000</span> % <span class="number">100</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> ((year % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; year % <span class="number">100</span> != <span class="number">0</span>) || year % <span class="number">400</span> == <span class="number">0</span>)<span class="comment">//闰年</span></span><br><span class="line">    &#123;</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (month == <span class="number">1</span> || month == <span class="number">3</span> || month == <span class="number">5</span> || month == <span class="number">7</span> || month == <span class="number">8</span> || month == <span class="number">10</span> || month || <span class="number">12</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (day == <span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                day = <span class="number">31</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                month++;</span><br><span class="line">                day--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (month == <span class="number">2</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            month++;</span><br><span class="line">            day++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (month == <span class="number">12</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (day == <span class="number">1</span>)</span><br><span class="line">                day = <span class="number">31</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                year++;</span><br><span class="line">                month = <span class="number">1</span>;</span><br><span class="line">                day--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            month++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span><span class="comment">//平年</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (month == <span class="number">1</span> || month == <span class="number">3</span> || month == <span class="number">5</span> || month == <span class="number">7</span> || month == <span class="number">8</span> || month == <span class="number">10</span> || month || <span class="number">12</span>)<span class="comment">//一个月31天</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (day == <span class="number">1</span>)<span class="comment">//大月的一号情况</span></span><br><span class="line">            &#123;</span><br><span class="line">                day = <span class="number">31</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                month++;</span><br><span class="line">                day--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (month == <span class="number">2</span>)<span class="comment">//平年的二月</span></span><br><span class="line">        &#123;</span><br><span class="line">            month++;</span><br><span class="line">            day += <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (month == <span class="number">12</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (day == <span class="number">1</span>)</span><br><span class="line">                day = <span class="number">31</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                year++;</span><br><span class="line">                month = <span class="number">1</span>;</span><br><span class="line">                day--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span><span class="comment">//一个月30天 的情况</span></span><br><span class="line">        &#123;</span><br><span class="line">            month++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> curyear = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> curmonth = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> curday = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入当前年"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; curyear;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入当前月"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; curmonth;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入当前日"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; curday;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (curyear &gt; year)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"逾期请缴纳罚款"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">throw</span> OverdueError;</span><br><span class="line">            <span class="keyword">if</span> (curmonth &gt; month)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"逾期，请缴纳罚款"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                <span class="keyword">throw</span> OverdueError;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (curday &gt; day)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"逾期，请缴纳罚款"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                <span class="keyword">throw</span> OverdueError;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">catch</span> (ERROR e)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"这里是缴纳罚款设施"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">ostringstream</span> os; <span class="comment">//构造一个输出字符串流，流内容为空</span></span><br><span class="line">    os &lt;&lt; curyear; <span class="comment">//向输出字符串流中输出int整数i的内容</span></span><br><span class="line">    <span class="built_in">string</span> ling = <span class="string">"0"</span>;</span><br><span class="line">    <span class="keyword">if</span> (curmonth &lt; <span class="number">10</span>)</span><br><span class="line">        os &lt;&lt; ling;</span><br><span class="line">    os &lt;&lt; month;</span><br><span class="line">    os &lt;&lt; curday;</span><br><span class="line">    d = os.str();</span><br><span class="line">    <span class="keyword">char</span> *da = <span class="keyword">const_cast</span>&lt;<span class="keyword">char</span>*&gt;(d.c_str());</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"BorrowLog.txt"</span>, ios::app);</span><br><span class="line">    <span class="keyword">if</span> (!file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">char</span> <span class="built_in">log</span>[<span class="number">256</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="built_in">strcat</span>(<span class="built_in">log</span>, <span class="string">"\n"</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(<span class="built_in">log</span>, bookid);</span><br><span class="line">    <span class="built_in">strcat</span>(<span class="built_in">log</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(<span class="built_in">log</span>, bookname);</span><br><span class="line">    <span class="built_in">strcat</span>(<span class="built_in">log</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(<span class="built_in">log</span>, ID);</span><br><span class="line">    <span class="built_in">strcat</span>(<span class="built_in">log</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(<span class="built_in">log</span>, da);</span><br><span class="line">    <span class="built_in">strcat</span>(<span class="built_in">log</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(<span class="built_in">log</span>, <span class="string">"1"</span>);</span><br><span class="line">    file &lt;&lt; <span class="built_in">log</span>;</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line">    ChangeBookinfor(bookid);</span><br><span class="line">    Setnum(id, <span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">User::DisplayLog</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span>* info = <span class="keyword">new</span> <span class="keyword">char</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入您借阅书籍的编号"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; info;</span><br><span class="line">    fstream file;</span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"BorrowLog.txt"</span>, ios::in);</span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">256</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">char</span>* token = <span class="keyword">new</span> <span class="keyword">char</span>;</span><br><span class="line">    <span class="keyword">while</span> (!file.eof())</span><br><span class="line">    &#123;</span><br><span class="line">        file.getline(str, <span class="number">100</span>);</span><br><span class="line">        token = strtok(str, <span class="string">" "</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(token, info) == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (token != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; token &lt;&lt; <span class="string">"  "</span>;</span><br><span class="line">        token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>); </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">User::SearchBook</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    UserFileManage u;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入您想要寻找书籍的编号"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">char</span>* info = <span class="keyword">new</span> <span class="keyword">char</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; info;</span><br><span class="line">    u.BInfoFile_searchbook(info);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">User::Register</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    UserFileManage u;</span><br><span class="line">    <span class="keyword">if</span> (u.Cek_for_registration())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入您的学号"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span>, id);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"注册成功，默认密码为123456"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"更改密码请您登入后，选择更改个人信息选项"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> result[<span class="number">256</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="built_in">strcat</span>(result, id);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, passcord);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, name);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, sex);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, phone);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">"0"</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, maxnum);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, maxday);</span><br><span class="line"></span><br><span class="line">    u.UInfoFile_addinfo(result);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"登入请按1，退出请按0"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">int</span> judge;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; judge;</span><br><span class="line">    <span class="keyword">if</span> (judge)</span><br><span class="line">        Login();</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">User::judge</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"请进行选择"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"借阅资料请按1，归还资料请按2，修改个人信息请按3，查看个人信息请按4，查看借阅信息请按5，查看图书信息请按6，结束退出请按0"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">int</span> pan;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; pan;</span><br><span class="line">        <span class="keyword">if</span> (pan == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">switch</span> (pan)</span><br><span class="line">        &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            Borrow();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">            Return();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"正在进入信息修改系统......."</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            ChangeInfo();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">            DisplayInfo();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">            DisplayLog();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">            SearchBook();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"请选择0-6的选项"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Login</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span>* Id = <span class="keyword">new</span> <span class="keyword">char</span>;</span><br><span class="line">    <span class="keyword">char</span>* cord = <span class="keyword">new</span> <span class="keyword">char</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入学号"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; Id;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入密码"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; cord;</span><br><span class="line">    <span class="function">User <span class="title">u</span><span class="params">(Id, cord)</span></span>;</span><br><span class="line">    u.judge();</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">User::ChangeBookinfob</span><span class="params">(<span class="keyword">char</span>* info)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    </span><br><span class="line">    fstream file;</span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"BookInfo.txt"</span>, ios::in);</span><br><span class="line">    <span class="keyword">if</span> (!file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">char</span>* str = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">256</span>];</span><br><span class="line">    <span class="keyword">char</span>* token = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">256</span>];</span><br><span class="line">    <span class="keyword">while</span> (!file.eof())</span><br><span class="line">    &#123;</span><br><span class="line">        file.getline(str, <span class="number">256</span>);</span><br><span class="line">        token = strtok(str, <span class="string">" "</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(info, token) == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//进行信息分割</span></span><br><span class="line">    <span class="keyword">char</span>* id = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* name = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* date = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* Pubhouse = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* page = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* author = token;</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line"></span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"BookInfo.txt"</span>, ios::in);</span><br><span class="line">    <span class="keyword">if</span> (!file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">char</span> str1[<span class="number">256</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">char</span>* token1 = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">char</span> <span class="built_in">buffer</span>[<span class="number">10000</span>] = <span class="string">""</span>;</span><br><span class="line">    token1 = <span class="keyword">new</span> <span class="keyword">char</span>;</span><br><span class="line">    <span class="keyword">while</span> (!file.eof())</span><br><span class="line">    &#123;</span><br><span class="line">        file.getline(str1, <span class="number">100</span>);</span><br><span class="line">        <span class="keyword">char</span>* str2 = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(str1) + <span class="number">1</span>];</span><br><span class="line">        <span class="built_in">strcpy</span>(str2, str1);</span><br><span class="line">        token1 = strtok(str1, <span class="string">" "</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(token1, info) == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">strcat</span>(<span class="built_in">buffer</span>, str2);</span><br><span class="line">        <span class="built_in">strcat</span>(<span class="built_in">buffer</span>, <span class="string">"\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line"></span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"BookInfo.txt"</span>, ios::out);</span><br><span class="line">    <span class="keyword">if</span> (!file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">char</span> result[<span class="number">10000</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="built_in">strcat</span>(result, id);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, name);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, date);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, Pubhouse);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, page);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, author);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">"0"</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">"\n"</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="built_in">buffer</span>);</span><br><span class="line">    file &lt;&lt; result;</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">User::Setnum</span><span class="params">(<span class="keyword">char</span>* ID,<span class="keyword">int</span> judge)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    fstream file;</span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">256</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">char</span>* token = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">256</span>];</span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"Userinfo.txt"</span>, ios::in);</span><br><span class="line">    <span class="keyword">if</span> (!file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (!file.eof())</span><br><span class="line">    &#123;</span><br><span class="line">        file.getline(str, <span class="number">100</span>);</span><br><span class="line">        token = strtok(str, <span class="string">" "</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(ID, token) == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">char</span>* ID1 = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* cord = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* name = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* sex = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* phone = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* number = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* maxnum = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* maxday = token;</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line">    <span class="comment">//得到各个信息</span></span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"Userinfo.txt"</span>, ios::in);</span><br><span class="line">    <span class="keyword">if</span> (!file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">char</span> str1[<span class="number">256</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">char</span>* token1 = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">char</span> <span class="built_in">buffer</span>[<span class="number">10000</span>] = <span class="string">""</span>;</span><br><span class="line">    token1 = <span class="keyword">new</span> <span class="keyword">char</span>;</span><br><span class="line">    <span class="keyword">while</span> (!file.eof())</span><br><span class="line">    &#123;</span><br><span class="line">        file.getline(str1, <span class="number">100</span>);</span><br><span class="line">        <span class="keyword">char</span>* str2 = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(str1) + <span class="number">1</span>];</span><br><span class="line">        <span class="built_in">strcpy</span>(str2, str1);</span><br><span class="line"></span><br><span class="line">        token1 = strtok(str1, <span class="string">" "</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(token1, ID) == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">strcat</span>(<span class="built_in">buffer</span>, str2);</span><br><span class="line">        <span class="built_in">strcat</span>(<span class="built_in">buffer</span>, <span class="string">"\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line"></span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"Userinfo.txt"</span>, ios::out);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">char</span> result[<span class="number">1000</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="built_in">strcat</span>(result, id);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, cord);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, name);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, sex);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, phone);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">if</span> (judge == <span class="number">1</span>)<span class="comment">//借书</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(number, <span class="string">"0"</span>) == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">strcat</span>(result, <span class="string">"1"</span>);</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(number, <span class="string">"1"</span>) == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">strcat</span>(result, <span class="string">"2"</span>);</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(number, <span class="string">"2"</span>) == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">strcat</span>(result, <span class="string">"3"</span>);</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(number, <span class="string">"3"</span>) == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">strcat</span>(result, <span class="string">"4"</span>);</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(number, <span class="string">"4"</span>) == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">strcat</span>(result, <span class="string">"5"</span>);</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (judge == <span class="number">2</span>)<span class="comment">//还书</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(number, <span class="string">"5"</span>) == <span class="number">0</span>)</span><br><span class="line">            <span class="built_in">strcat</span>(result, <span class="string">"4"</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(number, <span class="string">"2"</span>) == <span class="number">0</span>)</span><br><span class="line">            <span class="built_in">strcat</span>(result, <span class="string">"1"</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(number, <span class="string">"3"</span>) == <span class="number">0</span>)</span><br><span class="line">            <span class="built_in">strcat</span>(result, <span class="string">"2"</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(number, <span class="string">"4"</span>) == <span class="number">0</span>)</span><br><span class="line">            <span class="built_in">strcat</span>(result, <span class="string">"3"</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(number, <span class="string">"1"</span>) == <span class="number">0</span>)</span><br><span class="line">            <span class="built_in">strcat</span>(result, <span class="string">"0"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, maxnum);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, maxday);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">"\n"</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="built_in">buffer</span>);</span><br><span class="line">    file &lt;&lt; result;</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">User::ChangeBookinfor</span><span class="params">(<span class="keyword">char</span>* info)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    fstream file;</span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"BookInfo.txt"</span>, ios::in);</span><br><span class="line">    <span class="keyword">if</span> (!file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">char</span>* str = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">256</span>];</span><br><span class="line">    <span class="keyword">char</span>* token = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">256</span>];</span><br><span class="line">    <span class="keyword">while</span> (!file.eof())</span><br><span class="line">    &#123;</span><br><span class="line">        file.getline(str, <span class="number">256</span>);</span><br><span class="line">        token = strtok(str, <span class="string">" "</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(info, token) == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//进行信息分割</span></span><br><span class="line">    <span class="keyword">char</span>* id = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* name = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* date = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* Pubhouse = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* page = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* author = token;</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line"></span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"BookInfo.txt"</span>, ios::in);</span><br><span class="line">    <span class="keyword">if</span> (!file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">char</span> str1[<span class="number">256</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">char</span>* token1 = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">char</span> <span class="built_in">buffer</span>[<span class="number">10000</span>] = <span class="string">""</span>;</span><br><span class="line">    token1 = <span class="keyword">new</span> <span class="keyword">char</span>;</span><br><span class="line">    <span class="keyword">while</span> (!file.eof())</span><br><span class="line">    &#123;</span><br><span class="line">        file.getline(str1, <span class="number">100</span>);</span><br><span class="line">        <span class="keyword">char</span>* str2 = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(str1) + <span class="number">1</span>];</span><br><span class="line">        <span class="built_in">strcpy</span>(str2, str1);</span><br><span class="line">        token1 = strtok(str1, <span class="string">" "</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(token1, info) == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">strcat</span>(<span class="built_in">buffer</span>, str2);</span><br><span class="line">        <span class="built_in">strcat</span>(<span class="built_in">buffer</span>, <span class="string">"\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line"></span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"BookInfo.txt"</span>, ios::out);</span><br><span class="line">    <span class="keyword">if</span> (!file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">char</span> result[<span class="number">10000</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="built_in">strcat</span>(result, id);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, name);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, date);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, Pubhouse);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, page);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, author);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">"1"</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">"\n"</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="built_in">buffer</span>);</span><br><span class="line">    file &lt;&lt; result;</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//LiaManage.h</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> once</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">"LiaManage_FileManage.h"</span></span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LiaManage</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    <span class="keyword">char</span>* id;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    LiaManage(<span class="keyword">char</span>* id);</span><br><span class="line">    <span class="function"><span class="keyword">void</span>  <span class="title">AddBook</span><span class="params">()</span></span>;<span class="comment">//完成</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">DisplayInfo</span><span class="params">()</span></span>;<span class="comment">//完成</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">DeleteBook</span><span class="params">()</span></span>;<span class="comment">//完成</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">ChangeBook</span><span class="params">()</span></span>;<span class="comment">//完成</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">DisplayLog</span><span class="params">()</span></span>;<span class="comment">//完成</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">DisplayBook</span><span class="params">()</span></span>;<span class="comment">//完成</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">SearchBook</span><span class="params">()</span></span>;<span class="comment">//完成</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Judge</span><span class="params">()</span></span>;<span class="comment">//完成</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">JudgeExist</span><span class="params">(<span class="keyword">char</span>* ID)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Loginm</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//LiaManage.cpp</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"LiaManage.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line">LiaManage::LiaManage(<span class="keyword">char</span>* id)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;id = id;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">LiaManage::AddBook</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    LiaManage_FileManage l;</span><br><span class="line">    l.AddBook();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">LiaManage::DeleteBook</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    LiaManage_FileManage l;</span><br><span class="line">    l.DeleteBook();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">LiaManage::ChangeBook</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    LiaManage_FileManage l;</span><br><span class="line">    l.ChangeBook();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">LiaManage::DisplayLog</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    LiaManage_FileManage l;</span><br><span class="line">    l.TranverseLog();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">LiaManage::DisplayBook</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    LiaManage_FileManage l;</span><br><span class="line">    l.TranverseBook();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">LiaManage::SearchBook</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    LiaManage_FileManage l;</span><br><span class="line">    l.SearchBook();</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">LiaManage::DisplayInfo</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    fstream file;</span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"ManageInfo.txt"</span>, ios::in);</span><br><span class="line">    <span class="keyword">if</span> (!file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">256</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">char</span>* token = <span class="keyword">new</span> <span class="keyword">char</span>;</span><br><span class="line">    <span class="keyword">while</span> (!file.eof())</span><br><span class="line">    &#123;</span><br><span class="line">        file.getline(str, <span class="number">255</span>);</span><br><span class="line">        token = strtok(str, <span class="string">" "</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(token, id) == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (token != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%s "</span>, token);</span><br><span class="line">        token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">LiaManage::Judge</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> judge;</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt;</span><br><span class="line">            <span class="string">"请进行选择（增加书籍请按1，删除书籍请按2，修改书籍信息请按3，"</span></span><br><span class="line">            &lt;&lt; <span class="string">"查找书籍请按4，查看个人信息请按5，查看借还日志请按6，查看所有图书请按7，结束请按0）"</span>;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"（修改个人信息请联系图书管理员）"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; judge;</span><br><span class="line">        <span class="keyword">if</span> (judge == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">switch</span> (judge)</span><br><span class="line">        &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            AddBook();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">            DeleteBook();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">            ChangeBook();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">            SearchBook();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">            DisplayInfo();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">            DisplayLog();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">            DisplayBook();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">            <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入0-6的选项"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">JudgeExist</span><span class="params">(<span class="keyword">char</span>* ID)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    fstream file;</span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"ManageInfo.txt"</span>, ios::in);</span><br><span class="line">    <span class="keyword">if</span> (!file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">256</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">char</span>* token = <span class="keyword">new</span> <span class="keyword">char</span>;</span><br><span class="line">    <span class="keyword">while</span> (!file.eof())</span><br><span class="line">    &#123;</span><br><span class="line">        file.getline(str, <span class="number">255</span>);</span><br><span class="line">        token = strtok(str, <span class="string">" "</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(token, ID) == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Loginm</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span>* ID = <span class="keyword">new</span> <span class="keyword">char</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入您的工号"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; ID;</span><br><span class="line">    <span class="keyword">if</span> (JudgeExist(ID))</span><br><span class="line">    &#123;</span><br><span class="line">        fstream file;</span><br><span class="line">        file.<span class="built_in">open</span>(<span class="string">"ManageInfo.txt"</span>, ios::in);</span><br><span class="line">        <span class="keyword">char</span> str[<span class="number">256</span>] = <span class="string">""</span>;</span><br><span class="line">        <span class="keyword">char</span>* token = <span class="keyword">new</span> <span class="keyword">char</span>;</span><br><span class="line">        <span class="keyword">while</span> (!file.eof())</span><br><span class="line">        &#123;</span><br><span class="line">            file.getline(str, <span class="number">255</span>);</span><br><span class="line">            token = strtok(str, <span class="string">" "</span>);</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">strcmp</span>(token, ID) == <span class="number">0</span>)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">        <span class="keyword">char</span>* psscord = <span class="keyword">new</span> <span class="keyword">char</span>;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入密码"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; psscord;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(psscord, token) != <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"密码错误"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"密码正确"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="function">LiaManage <span class="title">l</span><span class="params">(ID)</span></span>;</span><br><span class="line">        l.Judge();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"对不起，工号不存在，请联系系统管理员"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//SysManage_FileManage.h</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> once</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SysManage_FileManage</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">TranverseUser</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">AddUser</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">AddManage</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">DeleteUser</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">ChangeUser</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">SearchUser</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">DeleteManage</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">ChangeManage</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">SearchManage</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">judge</span><span class="params">()</span></span>;</span><br><span class="line">    ostream &amp; <span class="keyword">operator</span>&lt;&lt;(ostream &amp; out);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//SysManage_FileManage.cpp</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"SysManage_FileManage.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SysManage_FileManage::TranverseUser</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span>* filepath = <span class="keyword">new</span> <span class="keyword">char</span>;</span><br><span class="line">    <span class="keyword">int</span> judge;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"获得普通用户全部信息请按1，获得图书管理员的全部信息请按2"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; judge;</span><br><span class="line">    <span class="keyword">if</span> (judge == <span class="number">1</span>)</span><br><span class="line">        filepath = &#123; (<span class="keyword">char</span>*)<span class="string">"Userinfo.txt"</span> &#125;;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (judge == <span class="number">2</span>)</span><br><span class="line">        filepath = &#123; (<span class="keyword">char</span>*)<span class="string">"ManageInfo.txt"</span> &#125;;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"输入错误"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="function">fstream <span class="title">file</span><span class="params">(filepath, ios::in)</span></span>;</span><br><span class="line">    <span class="keyword">if</span> (!file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">256</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">while</span> (!file.eof())</span><br><span class="line">    &#123;</span><br><span class="line">        file.getline(str, <span class="number">100</span>);</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; str &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">ostream &amp; SysManage_FileManage::<span class="keyword">operator</span>&lt;&lt;(ostream &amp; out)</span><br><span class="line">&#123;</span><br><span class="line">    TranverseUser();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SysManage_FileManage::AddUser</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    fstream file;</span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"Userinfo.txt"</span>, ios::app);</span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">256</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入用户信息"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"按照学号，密码，姓名，性别，联系方式，借阅数量，最大借阅数，最大借阅天数输入"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cin</span>.<span class="built_in">get</span>();</span><br><span class="line">    <span class="built_in">cin</span>.getline(str, <span class="number">100</span>);</span><br><span class="line">    file &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">    file &lt;&lt; str;</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SysManage_FileManage::AddManage</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    fstream file;</span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"ManageInfo.txt"</span>, ios::app);</span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">256</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入图书管理员信息"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"按照工号，密码，姓名，性别，联系方式"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cin</span>.<span class="built_in">get</span>();</span><br><span class="line">    <span class="built_in">cin</span>.getline(str, <span class="number">100</span>);</span><br><span class="line">    file &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">    file &lt;&lt; str;</span><br><span class="line">    </span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SysManage_FileManage::SearchUser</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> info[<span class="number">10</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入您将要查找用户的学号"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; info;</span><br><span class="line">    fstream file;</span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"Userinfo.txt"</span>, ios::in);</span><br><span class="line">    <span class="keyword">if</span> (!file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">256</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">char</span>* token = <span class="keyword">new</span> <span class="keyword">char</span>;</span><br><span class="line">    <span class="keyword">while</span> (!file.eof())</span><br><span class="line">    &#123;</span><br><span class="line">        file.getline(str, <span class="number">255</span>);</span><br><span class="line">        token = strtok(str, <span class="string">" "</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(str, info) == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (token != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%s \t"</span>, token);</span><br><span class="line">        token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SysManage_FileManage::DeleteUser</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入将要删除的用户学号"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">char</span>* info = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">15</span>];</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; info;</span><br><span class="line">    fstream file;</span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"Userinfo.txt"</span>, ios::in);</span><br><span class="line">    <span class="keyword">if</span> (!file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">char</span> str1[<span class="number">256</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">char</span>* token1 = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">char</span> <span class="built_in">buffer</span>[<span class="number">10000</span>] = <span class="string">""</span>;</span><br><span class="line">    token1 = <span class="keyword">new</span> <span class="keyword">char</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!file.eof())</span><br><span class="line">    &#123;</span><br><span class="line">        file.getline(str1, <span class="number">100</span>);</span><br><span class="line">        <span class="keyword">char</span>* str2 = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(str1) + <span class="number">1</span>];</span><br><span class="line">        <span class="built_in">strcpy</span>(str2, str1);</span><br><span class="line">        token1 = strtok(str1, <span class="string">" "</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(token1, info) == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="built_in">strcat</span>(<span class="built_in">buffer</span>, str2);</span><br><span class="line">        <span class="built_in">strcat</span>(<span class="built_in">buffer</span>, <span class="string">"\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line"></span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"Userinfo.txt"</span>, ios::out);</span><br><span class="line">    <span class="keyword">if</span> (!file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    file &lt;&lt; <span class="built_in">buffer</span>;</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"删除成功！"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SysManage_FileManage::ChangeUser</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入您的修改用户的学号\n"</span>;</span><br><span class="line">    <span class="keyword">char</span> info[<span class="number">7</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; info;</span><br><span class="line">    fstream file;</span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">256</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">char</span>* token = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">256</span>];</span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"Userinfo.txt"</span>, ios::in);</span><br><span class="line">    <span class="keyword">if</span> (!file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (!file.eof())</span><br><span class="line">    &#123;</span><br><span class="line">        file.getline(str, <span class="number">100</span>);</span><br><span class="line">        token = strtok(str, <span class="string">" "</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(info, token) == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">char</span>* id = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* cord = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* name = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* sex = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* phone = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* number = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* maxnum = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* maxday = token;</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line">    <span class="comment">//得到各个信息</span></span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"Userinfo.txt"</span>, ios::in);</span><br><span class="line">    <span class="keyword">if</span> (!file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">char</span> str1[<span class="number">256</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">char</span>* token1 = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">char</span> <span class="built_in">buffer</span>[<span class="number">10000</span>] = <span class="string">""</span>;</span><br><span class="line">    token1 = <span class="keyword">new</span> <span class="keyword">char</span>;</span><br><span class="line">    <span class="keyword">while</span> (!file.eof())</span><br><span class="line">    &#123;</span><br><span class="line">        file.getline(str1, <span class="number">100</span>);</span><br><span class="line">        <span class="keyword">char</span>* str2 = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(str1) + <span class="number">1</span>];</span><br><span class="line">        <span class="built_in">strcpy</span>(str2, str1);</span><br><span class="line"></span><br><span class="line">        token1 = strtok(str1, <span class="string">" "</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(token1, info) == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">strcat</span>(<span class="built_in">buffer</span>, str2);</span><br><span class="line">        <span class="built_in">strcat</span>(<span class="built_in">buffer</span>, <span class="string">"\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line"></span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"Userinfo.txt"</span>, ios::out);</span><br><span class="line">    <span class="keyword">int</span> judge;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入您将要改变的信息：(更改密码请按1/姓名请按2/性别请按3/联系方式请按4，"</span></span><br><span class="line">        &lt;&lt; <span class="string">"借阅数量请按5/最大借阅数请按6/最大借阅天数请按7，学号请按8，结束更改请按0)："</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; judge;</span><br><span class="line">    <span class="keyword">if</span> (judge == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"请重新确认您要修改的内容的编号："</span>;</span><br><span class="line">    <span class="keyword">while</span> (judge != <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; judge;</span><br><span class="line">        <span class="keyword">switch</span> (judge)</span><br><span class="line">        &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入更改后的密码(最多19位):"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; cord;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"更改成功，请继续输入您下一步将要更改的信息"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入更改后的姓名："</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; name;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"更改成功，请继续输入您下一步将要更改的信息"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入更改后的性别："</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; sex;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"更改成功，请继续输入您下一步将要更改的信息"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入更改后的联系方式"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; phone;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"更改成功，请继续输入您下一步将要更改的信息"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入更改后的借阅数量"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; number;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"更改成功，请继续输入您下一步将要更改的信息"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入更改后的最大借阅数"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; maxnum;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"更改成功，请继续输入您下一步将要更改的信息"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入更改后的最大借阅天数"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; maxday;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"更改成功，请继续输入您下一步将要更改的信息"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">8</span>:</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入更改后的学号"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; id;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"更改成功，请继续输入您下一步将要更改的信息"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"即将退出更改"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"您输入的编号有误，请输入0-8的代码"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"已结束更改"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">char</span> result[<span class="number">1000</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="built_in">strcat</span>(result, id);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, cord);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, name);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, sex);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, phone);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, number);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, maxnum);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, maxday);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">"\n"</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="built_in">buffer</span>);</span><br><span class="line">    file &lt;&lt; result;</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SysManage_FileManage::SearchManage</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> info[<span class="number">10</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入您将要查找管理员的工号"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; info;</span><br><span class="line">    fstream file;</span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"ManageInfo.txt"</span>, ios::in);</span><br><span class="line">    <span class="keyword">if</span> (!file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">256</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">char</span>* token = <span class="keyword">new</span> <span class="keyword">char</span>;</span><br><span class="line">    <span class="keyword">while</span> (!file.eof())</span><br><span class="line">    &#123;</span><br><span class="line">        file.getline(str, <span class="number">255</span>);</span><br><span class="line">        token = strtok(str, <span class="string">" "</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(str, info) == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (token != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%s \t"</span>, token);</span><br><span class="line">        token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SysManage_FileManage::ChangeManage</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入您的修改图书管理员的工号\n"</span>;</span><br><span class="line">    <span class="keyword">char</span> info[<span class="number">7</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; info;</span><br><span class="line">    fstream file;</span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">256</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">char</span>* token = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">256</span>];</span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"ManageInfo.txt"</span>, ios::in);</span><br><span class="line">    <span class="keyword">if</span> (!file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (!file.eof())</span><br><span class="line">    &#123;</span><br><span class="line">        file.getline(str, <span class="number">100</span>);</span><br><span class="line">        token = strtok(str, <span class="string">" "</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(info, token) == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">char</span>* id = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* cord = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* name = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* sex = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">char</span>* phone = token;</span><br><span class="line">    token = strtok(<span class="literal">NULL</span>, <span class="string">" "</span>);</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line">    <span class="comment">//得到各个信息</span></span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"ManageInfo.txt"</span>, ios::in);</span><br><span class="line">    <span class="keyword">if</span> (!file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">char</span> str1[<span class="number">256</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">char</span>* token1 = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">char</span> <span class="built_in">buffer</span>[<span class="number">10000</span>] = <span class="string">""</span>;</span><br><span class="line">    token1 = <span class="keyword">new</span> <span class="keyword">char</span>;</span><br><span class="line">    <span class="keyword">while</span> (!file.eof())</span><br><span class="line">    &#123;</span><br><span class="line">        file.getline(str1, <span class="number">100</span>);</span><br><span class="line">        <span class="keyword">char</span>* str2 = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(str1) + <span class="number">1</span>];</span><br><span class="line">        <span class="built_in">strcpy</span>(str2, str1);</span><br><span class="line"></span><br><span class="line">        token1 = strtok(str1, <span class="string">" "</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(token1, info) == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">strcat</span>(<span class="built_in">buffer</span>, str2);</span><br><span class="line">        <span class="built_in">strcat</span>(<span class="built_in">buffer</span>, <span class="string">"\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line"></span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"ManageInfo.txt"</span>, ios::out);</span><br><span class="line">    <span class="keyword">int</span> judge;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入您将要改变的信息：(更改密码请按1/姓名请按2/性别请按3/联系方式请按4，"</span></span><br><span class="line">        &lt;&lt; <span class="string">"工号请按5,结束更改请按0）："</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; judge;</span><br><span class="line">    <span class="keyword">if</span> (judge == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"请重新确认您要修改的内容的编号："</span>;</span><br><span class="line">    <span class="keyword">while</span> (judge != <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; judge;</span><br><span class="line">        <span class="keyword">switch</span> (judge)</span><br><span class="line">        &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入更改后的密码(最多19位):"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; cord;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"更改成功，请继续输入您下一步将要更改的信息"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入更改后的姓名："</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; name;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"更改成功，请继续输入您下一步将要更改的信息"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入更改后的性别："</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; sex;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"更改成功，请继续输入您下一步将要更改的信息"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入更改后的联系方式"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; phone;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"更改成功，请继续输入您下一步将要更改的信息"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入更改后的工号"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; id;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"更改成功，请继续输入您下一步将要更改的信息"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"即将退出更改"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"您输入的编号有误，请输入0-5的代码"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"已结束更改"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">char</span> result[<span class="number">1000</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="built_in">strcat</span>(result, id);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, cord);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, name);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, sex);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, phone);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="string">"\n"</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(result, <span class="built_in">buffer</span>);</span><br><span class="line">    file &lt;&lt; result;</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SysManage_FileManage::DeleteManage</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入将要删除的图书管理员的工号"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">char</span>* info = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">15</span>];</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; info;</span><br><span class="line">    fstream file;</span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"ManageInfo.txt"</span>, ios::in);</span><br><span class="line">    <span class="keyword">if</span> (!file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">char</span> str1[<span class="number">256</span>] = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">char</span>* token1 = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">char</span> <span class="built_in">buffer</span>[<span class="number">10000</span>] = <span class="string">""</span>;</span><br><span class="line">    token1 = <span class="keyword">new</span> <span class="keyword">char</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!file.eof())</span><br><span class="line">    &#123;</span><br><span class="line">        file.getline(str1, <span class="number">100</span>);</span><br><span class="line">        <span class="keyword">char</span>* str2 = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(str1) + <span class="number">1</span>];</span><br><span class="line">        <span class="built_in">strcpy</span>(str2, str1);</span><br><span class="line">        token1 = strtok(str1, <span class="string">" "</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(token1, info) == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="built_in">strcat</span>(<span class="built_in">buffer</span>, str2);</span><br><span class="line">        <span class="built_in">strcat</span>(<span class="built_in">buffer</span>, <span class="string">"\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line"></span><br><span class="line">    file.<span class="built_in">open</span>(<span class="string">"ManageInfo.txt"</span>, ios::out);</span><br><span class="line">    <span class="keyword">if</span> (!file.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"文件打开失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    file &lt;&lt; <span class="built_in">buffer</span>;</span><br><span class="line">    file.<span class="built_in">close</span>();</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"删除成功！"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SysManage_FileManage::judge</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    &#123; </span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"请您进行选择"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"输出所有用户信息请按1，增加用户请按2，增加图书管理员请按3，删除用户请按4，更改用户信息请按5"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"查找用户请按6，删除图书管理员请按7，修改图书管理员信息请按8，查找图书管理员请按9，退出请按0"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">int</span> judge;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; judge;</span><br><span class="line">        <span class="keyword">if</span> (judge == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">switch</span> (judge)</span><br><span class="line">        &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            TranverseUser();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">            AddUser();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">            AddManage();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">            DeleteUser();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">            ChangeUser();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">            SearchUser();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">            DeleteManage();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">8</span>:</span><br><span class="line">            ChangeManage();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">9</span>:</span><br><span class="line">            SearchManage();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入0-9的选项"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//login.cpp</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">"User.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">"LiaManage.h"</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">login</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span>* SysManagekouling = (<span class="keyword">char</span>*)<span class="string">"tianwanggaidihu"</span>;</span><br><span class="line">    <span class="keyword">char</span>* kouling = <span class="keyword">new</span> <span class="keyword">char</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"普通用户请按1，图书管理员请按2，系统管理员请按3"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">int</span> pan;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; pan;</span><br><span class="line">    <span class="keyword">switch</span> (pan)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">int</span> pan1;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"注册请按1，登入请按2"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; pan1;</span><br><span class="line">        <span class="keyword">if</span> (pan1 == <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            User u;</span><br><span class="line">            u.Register();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (pan1 == <span class="number">2</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            Login();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入1,2中的一项"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">        Loginm();</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入系统管理员口令"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; kouling;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(kouling, SysManagekouling) != <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"口令错误"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        SysManage_FileManage s;</span><br><span class="line">        s.judge();</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"请选择1-3的选项"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"正在进入登入页面"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"-----------------------------------------------------"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    login();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="实验结果截屏"><a href="#实验结果截屏" class="headerlink" title="实验结果截屏"></a>实验结果截屏</h2><p><img src="media/32a263e1c4ce7e2b89d2c8f34a4989ed.png" alt=""></p>
<p><img src="media/189c05ea222e5cf51e683d742de55199.png" alt=""></p>
<p><img src="media/45bb1788feba1d599074c8840a6d1b5a.png" alt=""></p>
<p><img src="media/3c091bae617a3c26401266fbeae9e7b6.png" alt=""></p>
<p><img src="media/a83ee22fb434ca51b05a9e9456695112.png" alt=""></p>
<p><img src="media/c12bc1e4c956ff8d6a9afd78e8c7ef93.png" alt=""></p>
<p><img src="media/6e3bbbc21091701a8b41ea4a75214ea2.png" alt=""></p>
<p><img src="media/58746b588216e3e421a0e1a22aba2c03.png" alt=""></p>
<p><img src="media/4daded583cc7b204e17fd3c129486ce2.png" alt=""></p>
<p><img src="media/b5a43bc9c31cc393688f7c199098b702.png" alt=""></p>
<h2 id="实验成果分析"><a href="#实验成果分析" class="headerlink" title="实验成果分析"></a>实验成果分析</h2><p>优点：大量熟练的使用了流和文件，类的结构还算清晰明了，实现的功能完整。所有程序由自己设计及完成。在实现过程中大量的查阅了资料，实现了能力的提升。</p>
<p>不足：在对文件进行处理时，可能会出现空行，导致执行其他操作时导致程序崩溃。多态和异常处理使用的较少。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/%E7%BC%96%E7%A8%8B/">编程</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AE%9E%E9%AA%8C/" rel="tag">实验</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BC%96%E7%A8%8B/" rel="tag">编程</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-河北磁山地区使用纺轮" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2020/07/03/%E6%B2%B3%E5%8C%97%E7%A3%81%E5%B1%B1%E5%9C%B0%E5%8C%BA%E4%BD%BF%E7%94%A8%E7%BA%BA%E8%BD%AE/" class="article-date">
      <time datetime="2020-07-02T16:00:00.000Z" itemprop="datePublished">2020-07-03</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2020/07/03/%E6%B2%B3%E5%8C%97%E7%A3%81%E5%B1%B1%E5%9C%B0%E5%8C%BA%E4%BD%BF%E7%94%A8%E7%BA%BA%E8%BD%AE/">科技史—河北磁山地区使用纺轮</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="科技史-河北磁山地区使用纺轮"><a href="#科技史-河北磁山地区使用纺轮" class="headerlink" title="科技史-河北磁山地区使用纺轮"></a>科技史-河北磁山地区使用纺轮</h1><blockquote>
<p>约公元前5300年 亚洲</p>
<p>纺轮的出现，给原始社会的生产带来了巨大变革，是我国纺纱工具发展的起点。</p>
</blockquote>
<p>1972年发现的磁山文化遗址，总面积近14万平方米。1976年至1978年在这里进行了三次发掘。至1978年底，发掘面积达6000平方米。文化层厚1至2米，不少窖穴深达6至7米。出土了陶器、石器、骨器、蚌器、动物骨骸、植物标本等约6000余种。为寻找中国更早的农业、畜牧业、制陶业的文明起源。提供了可贵的线索。</p>
<p>磁山遗址还是目前最早发现纺锤的主要部分–纺轮的遗址。在距今5000多年前的浙江河姆渡遗址、陕西西安半坡遗址、姜寨遗址等处,都有大量石制或陶制纺轮出土。</p>
<p>将松散的纤维拧成线条并拉细加捻成纱的过程叫纺纱，我国最早用于纺纱的工具是纺轮，也叫纺专，它们在一些具体的形制上有差别，但使用起来大同小异。古代称纺轮为纺专，具有泛称的含义。</p>
<p>纺锤的结构看起来很简单，但它的工作原理却很科学。它巧妙地利用物体自身的重量和它旋转时产生的力作功,使乱麻似的纤维被牵伸加捻，撮合成纱线。纺轮的外径和厚重，是决定成纱细度的关键。外径和重量较大，转动惯量也比较大，纺成的纱较粗；外径适中，重量较小，厚度较薄的，转动惯量虽小，可转动延续时间较长，因而成纱较细且比较均匀。这也是早期的纺轮较之晚期厚重的原因之一。</p>
<p>纺轮一般是用石片插杆纺锤或陶片经简单打磨而成,也有青铜铸造的。早期的纺轮其形式有扁圆形、鼓形、算珠形、梯形等，直径大都在五六厘米，重量在50-150克之间。随着纺织技术的发展,对纱线细度要求逐渐提高。稍晚的，大都是用黏土专门烧制而成的，其形式趋于轻薄，侧面呈偏平状或梭子状，直径略有缩小，重量在15-60千克之间，有的还加以纹饰和彩绘。</p>
<p>纺轮的出现给原始社会的生产带来了巨大变革，是我国纺纱工具发展的起点。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/%E5%85%A8%E5%8E%86%E5%8F%B2/">全历史</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%85%A8%E5%8E%86%E5%8F%B2/" rel="tag">全历史</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%A7%91%E6%8A%80%E5%8F%B2/" rel="tag">科技史</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-电子技术基础复习总结" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2020/07/03/%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E5%A4%8D%E4%B9%A0%E6%80%BB%E7%BB%93/" class="article-date">
      <time datetime="2020-07-02T16:00:00.000Z" itemprop="datePublished">2020-07-03</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2020/07/03/%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E5%A4%8D%E4%B9%A0%E6%80%BB%E7%BB%93/">电子技术基础复习总结</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="电子技术基础复习总结"><a href="#电子技术基础复习总结" class="headerlink" title="电子技术基础复习总结"></a>电子技术基础复习总结</h1><h2 id="基础知识"><a href="#基础知识" class="headerlink" title="基础知识"></a>基础知识</h2><h3 id="基本公式"><a href="#基本公式" class="headerlink" title="基本公式"></a>基本公式</h3><p>0-1律：<br>$$<br>\left{<br>\begin{aligned}<br>A+0=A\<br>A\cdot1=A<br>\end{aligned}<br>\right.<br>$$</p>
<p>$$<br>\left{<br>\begin{aligned}<br>A+1=1\<br>A\cdot0=0<br>\end{aligned}<br>\right.<br>$$<br>互补律：<br>$$<br>A+A’=1\<br>A\cdot A’=0<br>$$<br>重叠律：<br>$$<br>A+A=A\<br>A\cdot A=A<br>$$</p>
<p>还原律：<br>$$<br>(A’)’=A<br>$$</p>
<p>交换律：<br>$$<br>A\cdot B=B\cdot A\<br>A+B=B+A<br>$$</p>
<p>结合律：<br>$$<br>(A \cdot B)\cdot C=A \cdot (B \cdot C)\<br>(A+B)+C=A+(B+C)<br>$$</p>
<p>分配律：<br>$$<br>A \cdot (B+C)=A \cdot B+A \cdot C\<br>A+(B \cdot C)=(A+B) \cdot (A+C)<br>$$</p>
<p>反演律：<br>$$<br>(A\cdot B)’=A’+B’\<br>(A+B)’=A’ \cdot B’<br>$$</p>
<p>吸收律：<br>$$<br>A+AB=A\<br>A+A’B=A+B\<br>A(A’+B)=AB\<br>A’+AB=A’+B\<br>A’(A+B)=A’B\<br>AB+AB’=A\<br>(A+B)(A+B’)=A\<br>A(A+B)=A\<br>AB+A’C+BC(D)=AB+A’C\<br>(A+B)(A’+C)(B+C(+D))=(A+B)(A’+C)\<br>A \cdot (A \cdot B)’=A \cdot B’\<br>A’ \cdot (A \cdot B)’=A’<br>$$</p>
<h3 id="基本定理"><a href="#基本定理" class="headerlink" title="基本定理"></a>基本定理</h3><ol>
<li><p>代入定理：任何含有A的等式，如果将所有A的位置都用同一个函数代替，等式仍然成立。</p>
</li>
<li><p>反演定理：对任何一个表达式Y，将所有 · 换成 + ，+ 换成 · ，0换成1,1换成0，变量取反，所得就是Y‘。</p>
<p>注意：保持原来的运算优先顺序，不是单个变量上的反号应保留。</p>
</li>
<li><p>对偶定理：对任何一个表达式Y，将所有 · 换成 + ，+ 换成 · ，0换成1,1换成0，变量不变。得到的表达式是Y的对偶式。</p>
</li>
</ol>
<h3 id="逻辑函数的两种标准形式"><a href="#逻辑函数的两种标准形式" class="headerlink" title="逻辑函数的两种标准形式"></a>逻辑函数的两种标准形式</h3><h4 id="最小项"><a href="#最小项" class="headerlink" title="最小项"></a>最小项</h4><p>定义：在一个乘积项中包含所有变量且只出现一次这个乘积项称为标准积项。（最小项）</p>
<p>性质：</p>
<ol>
<li><p>任意一个最小项，只有一组变量取值使其为1.</p>
</li>
<li><p>任意两个不同最小项的乘积必是0.</p>
</li>
<li><p>全部最小项的和必为1.</p>
</li>
<li><p>具有相邻性的两个最小项可以合并并消去一对因子。</p>
</li>
<li><p>任何一个逻辑函数都可以表示成唯一的一组最小项之和，称为标准与或表达式，也称最小项表达式。</p>
</li>
<li><p>对于不是标准的与或表达式可利用公式A+A’=1    A(B+C)=AB+AC来配项展开成最小项表达式。</p>
</li>
</ol>
<h4 id="最大项"><a href="#最大项" class="headerlink" title="最大项"></a>最大项</h4><p>定义：在一和项中，n个变量都出现且出现一次，这个和项称为最大项。</p>
<p>标准或与表达式用AA’=0，A+BC=(A+B)(A+C) 配项</p>
<p>性质：</p>
<ol>
<li>所有最大项中仅有1个为0</li>
<li>全体最大项之积为0</li>
<li>任意两个最大项和为1</li>
<li>只有一个变量不同的两个最大项的乘积等于各相同变量之和。</li>
</ol>
<h4 id="最大项与最小项的关系"><a href="#最大项与最小项的关系" class="headerlink" title="最大项与最小项的关系"></a>最大项与最小项的关系</h4><p>互补：m=M’</p>
<p>Y=m1+m2+m3+m4</p>
<p>Y’=M1*M2*M3*M4</p>
<h3 id="逻辑函数的化简方法"><a href="#逻辑函数的化简方法" class="headerlink" title="逻辑函数的化简方法"></a>逻辑函数的化简方法</h3><h4 id="公式化简"><a href="#公式化简" class="headerlink" title="公式化简"></a>公式化简</h4><p>并项</p>
<p>吸收</p>
<p>消项</p>
<p>消因子</p>
<p>配项</p>
<h4 id="卡诺图化简"><a href="#卡诺图化简" class="headerlink" title="卡诺图化简"></a>卡诺图化简</h4><ol>
<li>将全部输入输出取值组合用一个小方块表示，并使具有逻辑相邻性的输入取值组合在几何位置上相邻排列，注意在卡诺图中的左右上下首位都是逻辑相邻的。</li>
<li>化简规则：画矩形圈，可重复，尽量圈住尽量多。</li>
<li>化简为最简与或表达式圈1。最简或与表达式圈0，0对应变量，1对应变量的反。</li>
<li>最大项在卡诺图中记为1，最小项在卡诺图中记为0。</li>
</ol>
<h4 id="具有无关项的逻辑函数化简方法"><a href="#具有无关项的逻辑函数化简方法" class="headerlink" title="具有无关项的逻辑函数化简方法"></a>具有无关项的逻辑函数化简方法</h4><p>在卡诺图中用×表示无关项，在化简时，既可以认为他是1，也可以认为是0</p>
<h2 id="组合电路逻辑分析"><a href="#组合电路逻辑分析" class="headerlink" title="组合电路逻辑分析"></a>组合电路逻辑分析</h2><p>分析步骤：</p>
<ol>
<li>根据给定的逻辑电路，从输入端开始，逐级推导出输出端的的逻辑函数表达式。</li>
<li>根据输出函数表达式列出真值表。</li>
<li>用文字概括出电路的逻辑功能。</li>
</ol>
<h2 id="二进制译码器"><a href="#二进制译码器" class="headerlink" title="二进制译码器"></a>二进制译码器</h2><h3 id="2-4译码器"><a href="#2-4译码器" class="headerlink" title="2-4译码器"></a>2-4译码器</h3><p><img src="https://i.loli.net/2020/06/18/VKo4MmcGpfi1b6S.png" alt=""></p>
<p><img src="https://i.loli.net/2020/06/18/ZFE9oShmu4nVRqM.png" alt=""></p>
<h3 id="3-8译码器"><a href="#3-8译码器" class="headerlink" title="3-8译码器"></a>3-8译码器</h3><p><img src="https://i.loli.net/2020/06/18/fGIa5xtWK2wTjm9.png" alt=""></p>
<p><img src="https://i.loli.net/2020/06/18/GMkqaOFdQ5h6NWR.png" alt=""></p>
<h2 id="数据选择器"><a href="#数据选择器" class="headerlink" title="数据选择器"></a>数据选择器</h2><p>数据选择器具有n位地址输入，$2^{n}$数据输入，1位输出。</p>
<p><img src="https://i.loli.net/2020/06/18/mOACUlK2RbnYpT5.png" alt=""></p>
<p><img src="https://i.loli.net/2020/06/18/tkqwP1cTyY5HMsC.png" alt=""></p>
<h2 id="组合逻辑电路设计"><a href="#组合逻辑电路设计" class="headerlink" title="组合逻辑电路设计"></a>组合逻辑电路设计</h2><ol>
<li>逻辑抽象。将文字描述转换成真值表称为逻辑抽象。首先分析逻辑命题，确定输入，输出变量；然后用二值逻辑的0,1两种状态分别对输入、输出变量进行逻辑赋值，即确定0,1的具体含义，最后根据输入输出之间的逻辑关系列出真值表。</li>
<li>选择器件类型。根据命题要求和器件功能情况决定采用哪种器件。比如多输出函数通常选择译码器实现。单输出函数，数据选择器实现比较方便。</li>
<li>根据真值表和选用的器件类型，写出相应的逻辑函数表达式，化简，转换门电路。</li>
</ol>
<h2 id="触发器"><a href="#触发器" class="headerlink" title="触发器"></a>触发器</h2><h3 id="基本RS触发器"><a href="#基本RS触发器" class="headerlink" title="基本RS触发器"></a>基本RS触发器</h3><p><img src="https://i.loli.net/2020/06/18/clkRjZi9OQ1JMYq.png" alt=""></p>
<p>现在的状态：现态。</p>
<p>下一状态：次态。</p>
<p>状态表：</p>
<p><img src="https://i.loli.net/2020/06/18/5lUodAjaSn8Y9bh.png" alt=""></p>
<p>特征方程：</p>
<p><img src="https://i.loli.net/2020/06/18/4kwbmn9oNrDJFYq.png" alt=""></p>
<p>状态转移图（状态图）与激励表：</p>
<p><img src="https://i.loli.net/2020/06/18/irSpHCbTXesBLWy.png" alt=""></p>
<p>波形图：</p>
<p><img src="https://i.loli.net/2020/06/18/nydaf98WRghLAsi.png" alt=""></p>
<h3 id="钟控触发器"><a href="#钟控触发器" class="headerlink" title="钟控触发器"></a>钟控触发器</h3><p>电平触发，对时钟信号敏感，其变化都会引起触发器状态变化。</p>
<h4 id="钟控RS触发器"><a href="#钟控RS触发器" class="headerlink" title="钟控RS触发器"></a>钟控RS触发器</h4><p><img src="https://i.loli.net/2020/06/18/Acmoei2s45Sbxty.png" alt=""></p>
<p>特征方程：</p>
<p><img src="https://i.loli.net/2020/06/18/QUbLwyAvd4RBHZT.png" alt=""></p>
<img src="https://i.loli.net/2020/06/18/pxGqrMbJsvDQ7L2.png" style="zoom:200%;" />



<h4 id="钟控D触发器（数据锁存器）"><a href="#钟控D触发器（数据锁存器）" class="headerlink" title="钟控D触发器（数据锁存器）"></a>钟控D触发器（数据锁存器）</h4><p><img src="https://i.loli.net/2020/06/18/meZfVBorlXW2nFx.png" alt=""></p>
<p>特征方程：</p>
<p><img src="https://i.loli.net/2020/06/18/5FPlSYT6Eo8KWtr.png" alt=""></p>
<img src="https://i.loli.net/2020/06/18/5EFjP6bzpx1iywv.png" style="zoom:200%;" />

<h4 id="钟控JK触发器"><a href="#钟控JK触发器" class="headerlink" title="钟控JK触发器"></a>钟控JK触发器</h4><p><img src="https://i.loli.net/2020/06/18/rm94EOXUYd6Vnub.png" alt=""></p>
<p><img src="https://i.loli.net/2020/06/18/MTt69HpchRy5rUO.png" alt=""></p>
<img src="https://i.loli.net/2020/06/18/vbqCZV9XWj7NtGD.png" style="zoom:150%;" />

<h4 id="钟控T和T‘触发器"><a href="#钟控T和T‘触发器" class="headerlink" title="钟控T和T‘触发器"></a>钟控T和T‘触发器</h4><p><img src="https://i.loli.net/2020/06/18/rl5cusbmqPgtkoL.png" alt=""></p>
<p><img src="https://i.loli.net/2020/06/18/5TUpQi6ojwn3mCa.png" alt=""></p>
<p><img src="https://i.loli.net/2020/06/18/NSXrqUwi8sRKHuc.png" alt=""></p>
<h3 id="集成触发器"><a href="#集成触发器" class="headerlink" title="集成触发器"></a>集成触发器</h3><h4 id="主从JK（RS）触发器"><a href="#主从JK（RS）触发器" class="headerlink" title="主从JK（RS）触发器"></a>主从JK（RS）触发器</h4><p>主从触发器在CLK=1时接受控制信号，当跳变为0时，触发器的状态转移，从触发器接受主触发器状态，主触发器封锁。</p>
<p>工作状态同上。</p>
<h4 id="边沿触发器"><a href="#边沿触发器" class="headerlink" title="边沿触发器"></a>边沿触发器</h4><p>次态只取决与时钟信号的上下沿，与前后的输入信号变化无影响</p>
<table>
<thead>
<tr>
<th align="center">CLK</th>
<th>D</th>
<th>$Q^{n+!}$</th>
</tr>
</thead>
<tbody><tr>
<td align="center">0</td>
<td>*</td>
<td>Q</td>
</tr>
<tr>
<td align="center">上升沿</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td align="center">上升沿</td>
<td>1</td>
<td>1</td>
</tr>
</tbody></table>
<h3 id="时序图"><a href="#时序图" class="headerlink" title="时序图"></a>时序图</h3><ol>
<li>以CP的有效沿为基准划分时间间隔，CP有效沿来到前为现态，有效沿来到后为次态。</li>
<li>每个时钟脉冲有效沿来到后，根据触发器的状态方程表确定其次态。</li>
<li>异步直接置0、置1端的操作不受时钟CP的控制，画波形图时要注意。</li>
</ol>
<h2 id="时序逻辑电路"><a href="#时序逻辑电路" class="headerlink" title="时序逻辑电路"></a>时序逻辑电路</h2><p><img src="https://i.loli.net/2020/06/18/P9UqXBHDINjEvM6.png" alt=""></p>
<p>X(x1,x2,…,xn)为外部输入信号，Q为存储电路的状态输出，也是逻辑电路的内部输入，Z为外部输出信号，Y是存储电路的激励信号，也是组合逻辑电路的内部输出。</p>
<p>任一时刻的输出与输入变量的取值和原状态有关。存储电路的输出状态Q反馈到组合电路的输入端与外部输入信号X共同决定输出和内部输出。</p>
<p>4组信号的逻辑关系可以用：</p>
<p><img src="https://i.loli.net/2020/06/18/p8dL1tYa2qTjJMQ.png" alt=""></p>
<p>表示。依次是：输出方程，激励方程，状态方程。</p>
<p>描述方法：</p>
<ol>
<li>逻辑表达式（上）</li>
<li>状态转移表：反映输出Z，次态，输入，现态关系的表格。形如：<img src="https://i.loli.net/2020/06/18/x7DoGQMlOPW3fTw.png" alt=""></li>
<li>状态图：反映状态转换规律，相应输入输出取值关系。形如：<img src="https://i.loli.net/2020/06/18/D64ceuN3kaVdwSf.png" alt=""></li>
<li>时序图：用波形反映输入输出状态等取值在实践上的对应关系。</li>
</ol>
<p>有效状态：在时序电路中，凡是利用了的状态。</p>
<p>循环：有效状态构成的循环。</p>
<p>自启动：在时钟作用下，无效状态能自动进入到有效循环中。</p>
<p>分析方法：电路图，输出方程和各触发器的激励方程，激励方程带入特性方程，状态方程，状态表。</p>
<p><img src="https://i.loli.net/2020/06/18/1CrQ2a4BWedAJzc.png" alt=""></p>
<p>设计方法：确定输入输出及状态数，状态转换图，状态分配选触发器，状态转移表，激励表（此状态下触发器的输入），激励（触发器）、输出方程，画电路图，检查自启动</p>
<p><img src="https://i.loli.net/2020/06/18/edMqcVbhlCSJ24n.png" alt=""></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/%E5%AD%A6%E4%B9%A0/">学习</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AD%A6%E4%B9%A0/" rel="tag">学习</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AC%94%E8%AE%B0/" rel="tag">笔记</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-河姆渡出现较发达的史前稻作农业" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2020/07/03/%E6%B2%B3%E5%A7%86%E6%B8%A1%E5%87%BA%E7%8E%B0%E8%BE%83%E5%8F%91%E8%BE%BE%E7%9A%84%E5%8F%B2%E5%89%8D%E7%A8%BB%E4%BD%9C%E5%86%9C%E4%B8%9A/" class="article-date">
      <time datetime="2020-07-02T16:00:00.000Z" itemprop="datePublished">2020-07-03</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2020/07/03/%E6%B2%B3%E5%A7%86%E6%B8%A1%E5%87%BA%E7%8E%B0%E8%BE%83%E5%8F%91%E8%BE%BE%E7%9A%84%E5%8F%B2%E5%89%8D%E7%A8%BB%E4%BD%9C%E5%86%9C%E4%B8%9A/">科技史—河姆渡出现较发达的史前稻作农业</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="河姆渡出现较发达的史前稻作农业"><a href="#河姆渡出现较发达的史前稻作农业" class="headerlink" title="河姆渡出现较发达的史前稻作农业"></a>河姆渡出现较发达的史前稻作农业</h1><blockquote>
<p>约公元前5000年 亚洲</p>
<p>先民已经驯化了猪、狗等家畜，并发展出了具有一定规模的原始稻作农业</p>
</blockquote>
<p>1973年，考古工作者在浙江省余姚市发现了一处公元前5000年至前3000年间的新石器时代文化遗址。遗址位于余姚市河姆渡镇芦山寺村的姚江北岸，被称为河姆渡遗址。</p>
<p>在发现的植物遗存中，有大量的稻谷及稻杆、稻叶形成的堆积。</p>
<p>还发现大量骨耜，木耜等农具。</p>
<p>种种迹象表明，河姆渡文化已经有了较发达的史前稻作农业。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/%E5%85%A8%E5%8E%86%E5%8F%B2/">全历史</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%85%A8%E5%8E%86%E5%8F%B2/" rel="tag">全历史</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%A7%91%E6%8A%80%E5%8F%B2/" rel="tag">科技史</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-玉蟾岩出现人工栽培稻" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2020/07/03/%E7%8E%89%E8%9F%BE%E5%B2%A9%E5%87%BA%E7%8E%B0%E4%BA%BA%E5%B7%A5%E6%A0%BD%E5%9F%B9%E7%A8%BB/" class="article-date">
      <time datetime="2020-07-02T16:00:00.000Z" itemprop="datePublished">2020-07-03</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2020/07/03/%E7%8E%89%E8%9F%BE%E5%B2%A9%E5%87%BA%E7%8E%B0%E4%BA%BA%E5%B7%A5%E6%A0%BD%E5%9F%B9%E7%A8%BB/">科技史—玉蟾岩出现人工栽培稻</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="科技史-玉蟾岩出现人工栽培稻"><a href="#科技史-玉蟾岩出现人工栽培稻" class="headerlink" title="科技史-玉蟾岩出现人工栽培稻"></a>科技史-玉蟾岩出现人工栽培稻</h1><blockquote>
<p>约公元前8000年 亚洲</p>
<p>玉蟾岩遗址栽培稻种的发现，对探讨中国史前稻作农业的起源具有重要的价值。</p>
</blockquote>
<p>玉蟾岩遗址位于中国湖南省道县，是一处洞穴遗址。在那里发现了4粒稻谷，经鉴定兼有野、籼（xian）、粳（jing）稻的综合特征，为演化中的最原始的古栽培稻类型。这是迄今为止中国所发现的最早的古栽培稻实物，也是世界上最早的栽培稻实物标本。</p>
<p>同时，土样分析也表明存在水稻的硅酸体，说明当时已开始少量栽培最原始的水稻。经碳14法断代测定，稻谷遗存年代约公元前8000年。</p>
<p>玉蟾岩遗址栽培稻种的发现，对探讨中国史前稻作农业的起源具有重要的价值。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/%E5%85%A8%E5%8E%86%E5%8F%B2/">全历史</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%85%A8%E5%8E%86%E5%8F%B2/" rel="tag">全历史</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%A7%91%E6%8A%80%E5%8F%B2/" rel="tag">科技史</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-离散数学-图论" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2020/07/03/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6-%E5%9B%BE%E8%AE%BA/" class="article-date">
      <time datetime="2020-07-02T16:00:00.000Z" itemprop="datePublished">2020-07-03</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2020/07/03/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6-%E5%9B%BE%E8%AE%BA/">图论知识总结</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="图论"><a href="#图论" class="headerlink" title="图论"></a>图论</h1><h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2><ol>
<li><p>无序对和无序积：集合A&amp;B={(a,b)|a$\in$A,b$\in$B},(a,b)=(b,a)</p>
</li>
<li><p>==图==：一个序偶&lt;V,E&gt;,V是结点集，E：边集，E中每个元素都有V中的结点对与之对应称之边。</p>
</li>
<li><p>图的表示：集合表示，图形表示，邻接矩阵</p>
</li>
<li><p>若两个结点vi,vj是边e的端点，则称vi,vj互为==邻接点==，具有公共节点的两条边称为==邻接边==，两个端点相同的边称为==环==或者==自回路==。图中不与任何点相邻接的结点叫==孤立节点==</p>
</li>
<li><p>仅含一个结点的零图叫做平凡图。</p>
</li>
<li><p>图的分类：无向图，有向图，混合图，多重图（有平行边），线图（非多重图），简单图（无环线图），赋值图，如G=&lt;V,E,g&gt;，g是从E到非负实数集合的函数</p>
</li>
<li><p>若V1$\subseteq$V,E1$\subseteq$E,则G1为G的==子图==，记为G1$\subseteq$G</p>
</li>
<li><p>若$V1=V,E1\subseteq E$,G1是G的==生成子图==</p>
</li>
<li><p>设$V2\subseteq V$且$V2\neq \empty$以V2为结点集，以两个端点均在V2中的边的全体边集的G的子图称为V2的==导出子图==</p>
</li>
<li><p>==完全图==：无向简单图：所有节点之间都有边相连，记为Kn</p>
<p>​               有向简单图：任意两个结点都有两条方向相反的有向边相连。</p>
<p>其矩阵除对角线上的元素为0，其余元素为1</p>
</li>
<li><p>==补图==：G为简单图&lt;V,E&gt;，G‘为完全图&lt;V1,E1&gt;。G1=&lt;V,E1-E&gt;为G的补图，记为$\overline{G}$（从完全图中删除G中的边）两个结点在$\overline{G}$中相邻$\leftrightarrow$在G中不相邻</p>
</li>
<li><p>==度数==：图G=&lt;V,E&gt;中以结点v$\in$V为端点的次数之和称为结点v的度数，记为deg(v),环记两次，有向图中以v为始点的次数称为v的出度，记为deg$^{+}$(v)以结点v为终点的次数称为v的入度，记为deg$^{-}$(v).deg(v)=入度加出度。deg(v)=1称为悬挂结点，以悬挂结点的边称为悬挂边。</p>
<ul>
<li>用邻接矩阵计算度数：若G是无向图：deg(vi)=$\sum_{k=1}^{n}a_{ik}+a_{}ii,或者=\sum_{k=1}^{n}a_{ki}+a_{ii}$。有向图：deg+(vi)=$\sum_{k-1}^{n}a_{ik}$；deg-(vi)=$\sum_{k=1}^n{a_{ki}}$</li>
</ul>
</li>
<li><p>==握手定理==：度数总和=2|E|。</p>
<p>推论：度数为奇数的结点个数为偶数。</p>
<p>有向图出度之和=入度之和=边数</p>
</li>
<li><p>==图的同构==：设两个图G=&lt;V,E&gt;,G’=&lt;V,E’&gt;,若存在V$\rightarrow$V’，使得对于任意e=(vi,vj)$\in$E，当且仅当e’=(g(vi),g(vj))$\in$E’，并且e和e’重数相同，称G与G’同构。</p>
</li>
<li><p>同构的必要条件：结点数目相等，边数相等，度数相同的节点数相同</p>
</li>
<li><p>==路==：给定图G=&lt;V,E&gt;，设v0,…vn$\in$V，e1,e2,…,en$\in$E，其中ei是关联结点vi-1和vi的边，交替序列voe1v1e2…envn称为连接v0到vn的路。若路中的所有边全不相同，则称此路为一条迹。若路中所有节点不同，则称此路为通路。</p>
<ul>
<li>v0和vn分别为该路的起点和终点，统称为==路的端点==。</li>
<li>路中边的条数称为==路的长度==。</li>
<li>若v0=vn,称为==回路==。</li>
</ul>
</li>
<li><p>在一个具有n个结点的图中，如果从结点vj到结点vk存在一条路，则从结点vj到结点vk必存在一条不多于n-1条边的路</p>
<ul>
<li>在无向图中G中，如果从结点vj到结点vk存在一条路，则必存在一条从vj到vk而长度小于n的通路</li>
</ul>
</li>
<li><p>无向图的连通性</p>
<ul>
<li>设G=&lt;V,E&gt;是一个图，对vi,vj$\in$V,从vi 到vj如、exist是一条路则称结点vi和vj 是连通的</li>
<li>设G=&lt;V,E&gt;是一个无向图，若G中任意两个结点之间都是连通的，则称该无向图G是一个无向连通图，否则，则称G是一个非连通图（分离图）</li>
<li>设G=&lt;V,E&gt;是一个无向图，该无向图G中的每个连通的划分块称为G的一个连通分支，用W(G)表示G中的连通分支数。无向图是连通图当且仅当W(G)=1</li>
</ul>
</li>
<li><p>删除结点和边</p>
<ul>
<li>删除结点：在图中删除结点v是把v以及、并为大哥v关联的边都删除</li>
<li>删除边：仅删除该边</li>
</ul>
</li>
<li><p>割点：设无向图G=&lt;V,E&gt;是连通的，若有结点集V1是V的真子集，使得图G删除了V1的所有结点后，所得的子图是不连通的，而删除了V1的任意子集后，所得的子图还是连通图则称集合V1是图G的点割集。若某一个结点就构成点割集，则称该结点是割点。</p>
<ul>
<li>一个连通图删除它的一个点割集后，将分成两个或者多于两个连通分支</li>
<li>若G不是完全图，定义k(G)=min{V1|V1是G的点割集}为G的点连通度。连通度是为了产生一个不连通图需要删除点的最少个数。</li>
</ul>
</li>
<li><p>割边：设无向图G=&lt;V,E&gt;是连通的，若有边集E1是E的真子集，使得图G删除了E1 的所有边后，所得的子图是不连通的，而删除了E1的任意真子集后，所得子图仍是连通图。则称集合E1是图G的边割集。若某一边构成边割集，则称该边是割边（桥）。</p>
<ul>
<li>G的割边也就是G的一条边e使得W(G-r)&gt;W(G)。、并为大哥点连通度相似，定义非平凡图G的连通度为：$\lambda(G)=min{E1|E1是G的边割集}$,边连通度$\lambda(G)$是为了产生一个不连通图需要删去边的最少数目。</li>
</ul>
<p>若存在割点，则存在割边</p>
</li>
<li><p>有向图的连通性：设G=&lt;V,E&gt;是一个有向图。对vi.vj$\in$V,从vi到vj如、exist是一条路，则称结点vi到vj是==可达的==。</p>
<ul>
<li>设G=&lt;V,E&gt;是一个有向图，若略去G中所有有向边的方向后得到的无向图是一个无向连通图，则称该有向图G是一个==弱连通图==。</li>
<li>设G=&lt;V,E&gt;是一个有向图，若G中任意两个结点之间至少单方向是可达的，则称该有向图G是一个==单侧有向图==。（经过一条经过所有结点至少一次的通路）</li>
<li>设G=&lt;V,E&gt;是一个有向图，若G中任意两个结点之间都是相互可达的，则称该有向图是一个==强连通图==。</li>
</ul>
</li>
<li><p>一个有向图G是强连通图当且仅当G中有一个回路，至少包含每一个结点一次</p>
<p><img src="https://i.loli.net/2020/06/22/CzAlu6wTIroxnSD.png" alt=""></p>
<p><img src="https://i.loli.net/2020/06/22/CzAlu6wTIroxnSD.png" alt=""></p>
</li>
</ol>
<h2 id="矩阵"><a href="#矩阵" class="headerlink" title="矩阵"></a>矩阵</h2><h3 id="邻接矩阵"><a href="#邻接矩阵" class="headerlink" title="邻接矩阵"></a>邻接矩阵</h3><p>设G=&lt;V,E&gt;是一个简单图，，则n阶方阵A(G)=(aij)$_{n\times n}$称为G的邻接矩阵。其中：</p>
<p><img src="https://i.loli.net/2020/06/23/83qnPvL62QyEUfa.png" alt=""></p>
<p>令C=A$^{m}$，此时cij表示从vi到vj长度为m的路的数目。</p>
<h3 id="可达性矩阵"><a href="#可达性矩阵" class="headerlink" title="可达性矩阵"></a>可达性矩阵</h3><p>设G=&lt;V,E&gt;是一个简单图，V={v1,v2,v3,…,vn}，$Bn=(bij)_{n\times n}=A+A^{2}+A^{3}+…A^{n}$，则bij表明了从结点vi到vj长度为1至n的所有路数目之和。如bn=0,则表明从结点vi到vj是不可达的。如bij$\neq$0,则表明从结点vi到vj至少有长度为m(1&lt;=m&lt;=n)的通路.</p>
<p>定义：设G=&lt;V,E&gt;是一个简单图，V={v1,…vn}，定义一个n阶方阵P=(pij)$_[n\times n]$其中：</p>
<p><img src="https://i.loli.net/2020/06/23/FgAQK2DyIzn8dfu.png" alt=""></p>
<p>利用布尔矩阵运算直接求可达性矩阵：</p>
<p>P=$A\lor A^{(2)}\lor A^{(3)}\lor …\lor A^{n}$</p>
<p>$A^{m}=A\land A\land A…\land A$</p>
<h3 id="完全关联矩阵"><a href="#完全关联矩阵" class="headerlink" title="完全关联矩阵"></a>完全关联矩阵</h3><p>定义：给定无向图C，令v1,v2,…,vp和e1,e2,…,eq分别记为G的结点和边，则矩阵M(G)=(mij)，其中：<img src="https://i.loli.net/2020/06/23/JKQ7lF4ctfkCwnr.png" alt=""></p>
<p>如：</p>
<p><img src="https://i.loli.net/2020/06/23/wfOSAXE86QI9rJZ.png" alt=""></p>
<p>定义：给定简单有向图G=&lt;V,E&gt;，V={v1.v2,…,vp},E={e1,e2,…,eq},p*q阶矩阵M(G)=（mij），其中：<img src="https://i.loli.net/2020/06/23/uZ3elfrsG17jHmQ.png" alt=""></p>
<p>如：<img src="https://i.loli.net/2020/06/23/WdClIwkMOncHbXP.png" alt=""></p>
<h3 id="矩阵与图连通性的关系："><a href="#矩阵与图连通性的关系：" class="headerlink" title="矩阵与图连通性的关系："></a>矩阵与图连通性的关系：</h3><ul>
<li><p>无向简单图G是连通图当且仅当它的可达性矩阵P所有元素均为1</p>
</li>
<li><p>有向简单图G是强连通图当且仅当它的可达性矩阵P的所有元素均为1</p>
</li>
<li><p>有向简单图G是单侧连通图当且仅当它的可达性矩阵P及其转置矩阵经布尔求（并）和运算后所得矩阵中除对角线以外其余元素均为1</p>
</li>
<li><p>有向简单图G是弱连通图当且仅当它的邻接矩阵A及其转置矩阵经布尔求和(并)运算后作为新的邻接矩阵而求出的可达性矩阵中所有元素均为1</p>
</li>
</ul>
<h2 id="特殊图"><a href="#特殊图" class="headerlink" title="特殊图"></a>特殊图</h2><h3 id="无向欧拉图"><a href="#无向欧拉图" class="headerlink" title="无向欧拉图"></a>无向欧拉图</h3><h4 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h4><p>给定G是一个无孤立节点的无向图，若存在一条路（回路），经过图中每边一次且仅一次，则此路（回路）为该图的一条欧拉路（回路）。具有欧拉回路的图叫做欧拉图。</p>
<h4 id="判定定理"><a href="#判定定理" class="headerlink" title="判定定理"></a>判定定理</h4><p>无向图G=&lt;V,E&gt;具有一条欧拉路当且仅当G是连通的，且仅有0个或者两个奇度数结点。</p>
<p>无向图G=&lt;V,E&gt;是欧拉图当且仅当G是连通的且G的所有结点的度数都是偶数</p>
<h3 id="有向欧拉图"><a href="#有向欧拉图" class="headerlink" title="有向欧拉图"></a>有向欧拉图</h3><h4 id="定义-1"><a href="#定义-1" class="headerlink" title="定义"></a>定义</h4><p>给定G是一个无孤立节点的有向图，若存在一条单向路（回路）经过图中每边一次且仅一次，则称此单向路（回路）为该图的一条单向欧拉路（回路）。具有单向欧拉回路的图叫做欧拉图。</p>
<h4 id="定理"><a href="#定理" class="headerlink" title="定理"></a>定理</h4><p>有向图G=&lt;V,E&gt;具有一条单向欧拉路当且仅当G是连通的，且除了两个结点以外，其余结点的入度等于出度，而这两个例外的结点中，一个结点的入度比出度大一，另一个结点的出度比入度大1</p>
<p>有向图G=&lt;V,E&gt;是欧拉图当且仅当G是连通的，且所有结点的入度等于出度</p>
<h3 id="哈密尔顿图"><a href="#哈密尔顿图" class="headerlink" title="哈密尔顿图"></a>哈密尔顿图</h3><h4 id="定义-2"><a href="#定义-2" class="headerlink" title="定义"></a>定义</h4><p>给定G是一个无孤立节点的无向图，若存在一条路（回路），经过图中每个结点一次且仅一次，则此路（回路）为该图的一条哈密尔顿路（回路）。具有哈密尔顿回龙路的图称为哈密尔顿图。</p>
<h4 id="必要条件"><a href="#必要条件" class="headerlink" title="必要条件"></a>必要条件</h4><p>若图G=&lt;V,E&gt;具有哈密尔顿回路，则对于结点集V（度数高）的每一个非空子集S均有W(G-S)$\leq$|S|成立，其中W(G-S)是G-S的连通分支数。</p>
<h4 id="充分条件"><a href="#充分条件" class="headerlink" title="充分条件"></a>充分条件</h4><p>设G具有n个结点的简单图，如果G中每一对不相邻结点的度数之和大于等于n-1,则在G中存在一条哈密尔顿路。</p>
<p>设图G是具有n个结点的简单图，如果G中每一对结点的度数大于等于n，则在G中存在一条哈密尔顿回路。</p>
<p>设G是n结点简单无向图，n&gt;=3，任意结点v,deg(v)&gt;=n/2,则是哈密而顿图</p>
<p>闭包：给定图G=&lt;V,E&gt;有n个结点，若将图G中的度数之和至少是n的非邻接结点连接起来得G‘，对图G’重复上述步骤，直到不再有这样的结点为止，所得的图称为原图G的闭包。记作C(G).</p>
<p>当且仅当一个简单图的闭包是哈密尔顿图时，这个简单图是哈密尔顿图</p>
<p><img src="https://i.loli.net/2020/06/23/p96iBOetNf3A2Yl.png" alt=""></p>
<h3 id="平面图"><a href="#平面图" class="headerlink" title="平面图"></a>平面图</h3><h4 id="定义-3"><a href="#定义-3" class="headerlink" title="定义"></a>定义</h4><p>设G是一个无向图，若经过某种改画，能把G中所有结点和边都画在一个平面上，使得任何两边除公共结点之外没有其他交叉点，则称G为平面图，若G无论如何改画，它们的边之间总有交叉现象出现，则G是非平面图。结点数小于等于4的都是平面图。</p>
<p>由边所包围的区域称为G的一个面，包围这个面所构成的回路称为这个面的边界，面的边界长度叫做次数。</p>
<p>结点数&lt;4都是平面图</p>
<p>一个有限平面图面的次数之和等于其边数的两倍。</p>
<h4 id="欧拉公式"><a href="#欧拉公式" class="headerlink" title="欧拉公式"></a>欧拉公式</h4><p>定理：设G=&lt;V,E&gt;是一个连通的平面图</p>
<ul>
<li>若它有v个结点，e条边，r个面，则有：v-e+r=2</li>
<li>若G中无环，且每一个面至少由三条边围成，则有：e&lt;=3v-6</li>
<li>若G中无环，且每一个面至少由k条边围成，则有：(k-2)e&lt;=kv-2k</li>
</ul>
<h4 id="库拉托夫斯基图"><a href="#库拉托夫斯基图" class="headerlink" title="库拉托夫斯基图"></a>库拉托夫斯基图</h4><p>插入和删除一个新的度数为2的结点，使一条边分成两条边，或者对于关联于一个度数为2的结点的两条边，去掉这个结点，是两条边变成一条边，这些都不印象图的平面性。</p>
<p><img src="https://i.loli.net/2020/06/23/ZB59qHrGuIlVTxi.png" alt=""></p>
<p>定义：给定两个图G1和G2，若它们是同构的，或通过反复插入或去除度数为2 的结点后，使得G1和G2同构，则称该图是在2度结点内同构（同胚）</p>
<p>定理：一个图是平面图，当且仅当它不包含与k33或K5在2度结点内同构的子图。K33和K5常称为库拉托夫斯基图</p>
<p><img src="https://i.loli.net/2020/06/23/jOy5zhLN7FqZPQA.png" alt=""></p>
<h4 id="对偶图"><a href="#对偶图" class="headerlink" title="对偶图"></a>对偶图</h4><p>定义：给定平面图G=&lt;V,E&gt;，它有面F1,F2,…,Fn，若有图G<em>=&lt;V</em>,E*&gt;满足下述条件：</p>
<ul>
<li>对于图G的任一个面Fi，内部有且仅有一个结点vi<em>$\in$V\</em></li>
<li>对于图G的面Fi,Fj的公共边ek,存在且仅存在一条边ek<em>$\in$E\</em>,使ek*=(vi*,bj*),且ek*和ek相交。</li>
<li>当且仅当ek只是一个面Fi的边界时，vi<em>存在一个环ek\</em>和ek相交，则图G*是图G的对偶图。</li>
</ul>
<p>从这个定义看出，G<em>是G的对偶图，则G也是G\</em>的对偶图。一个连通平面图的对偶图也必是平面图。</p>
<p>如果图G的对偶图G*同构于G，则称G是自对偶的。</p>
<p>定理：G为偶图的充要条件为所有回路长度均为偶数</p>
<h4 id="着色"><a href="#着色" class="headerlink" title="着色"></a>着色</h4><p>图G的正常着色（或简称为着色）是指对它的每一个结点指定一种颜色，使得没有两个相邻的结点有同一种颜色。如果图G在着色时有n种颜色，称G为n-色的。对于图G着色时，需最少的颜色数称为着色数，记为x(G).</p>
<p>韦尔奇鲍威尔法：</p>
<ol>
<li>将图G的结点按照度数的递减顺序进行排列。</li>
<li>用第一种颜色对第一点进行着色，并且按排列次序，对于前面着色点不邻接的每一点着相同色</li>
<li>用第二种颜色对尚未着色的点进行重复步骤2，用第三种颜色继续这种做法，直到所有的点全部上色</li>
</ol>
<p>对于n个结点的完全图Kn,有x(Kn)=n</p>
<p>设G是至少有三个结点的连通平面图，则G中必有一个结点u，使得deg(u)&lt;=5</p>
<p>任意平面图G至多是5-色的</p>
<h2 id="树"><a href="#树" class="headerlink" title="树"></a>树</h2><h3 id="无向树"><a href="#无向树" class="headerlink" title="无向树"></a>无向树</h3><p>设T是一个连通且无回路的无向图，则称T为无向树，简称树。树的度数为1的结点称为树叶，度数大于1的结点称为分枝点（内点）。</p>
<p>不含任何回路的简单无向图为森林</p>
<p>森林中的每一个连通的分支都是一棵树</p>
<h5 id="性质"><a href="#性质" class="headerlink" title="性质"></a>性质</h5><p>定理：设G=&lt;V,E&gt;是一个简单无向图，则以下关于图的定义都是等价的：</p>
<ul>
<li>G是连通的且不含回路的</li>
<li>G中无回路，且m=n-1，其中，m是边数，n是结点数</li>
<li>G是连通的，且m=n-1</li>
<li>G无回路，但在G中的任何二结点之间增加一条新边，就得到唯一的一条回路</li>
<li>G是连通的，但删除G中任意一条边后，就不连通</li>
<li>G中每一对结点之间有唯一的一条路</li>
</ul>
<p>任意非平凡的数T至少有两片树叶</p>
<h5 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h5><p>树是边数最多的无向图</p>
<p>树是边数最少的连通图</p>
<p>m&lt;n-1，G不连通</p>
<p>m&gt;n-1,必有回路</p>
<h5 id="生成树"><a href="#生成树" class="headerlink" title="生成树"></a>生成树</h5><ol>
<li><p>定义：设G=&lt;V,E&gt;是一个连通的无向图，若G的某个生成子图是一棵树，则称该树为G的生成树，记为T$<em>{G}$。生成树T$</em>{G}$中的边称为树枝；在G中而不在$T_{G}$中的边称位弦，$T_{G}$的所有弦的集合称为生成树的补</p>
</li>
<li><p>定理：</p>
</li>
</ol>
<ul>
<li>任意一个连通图G至少存在一颗生成树。一个无向连通图G，如果G是一棵树则它的生成树是唯一的，即是G本身；如果不是，那么它的生成树就不是唯一的</li>
<li>一条回路和任意一棵生成树的补至少有一条公共边。</li>
<li>一个边割集和任何生成树至少有一条公共边</li>
</ul>
<ol start="3">
<li><p>求生成树的方法</p>
<ol>
<li>破圈法：每次去掉回路中的一条边，其去掉的边的总数是m-(n-1)</li>
<li>避圈法：每次选取G中的一条边，该边不能与已经选取的边构成回路，此时选取的边的总数是n-1</li>
</ol>
</li>
<li><p>最小生成树：假设图G具有n个结点的连通图，对应于G的每一条边e，指定一个正数C(e)，把C(e)称作边e权，G的生成树也具有一个树权，它是T的所有边权的和。在带全的图G的所有生成树中，树权最小的那颗生成树称作最小生成树</p>
</li>
<li><p>克鲁斯科尔算法：</p>
<p>设图G有n个结点</p>
<ol>
<li>选择权最小的边e1，置边数i=1</li>
<li>i=n-1结束否则转3</li>
<li>设定已选定e1,…ei在G中选取不同于ei的边e$_{i+1}$，使无回路且满足此条件的权最小的边</li>
<li>i=i+1，转2</li>
</ol>
</li>
</ol>
<h3 id="有向树"><a href="#有向树" class="headerlink" title="有向树"></a>有向树</h3><p>设G=&lt;V,E&gt;是一个简单有向图，若略去图G中所有边的方向后，得到的无向图是一棵树，则称这个有向图是一棵有向树</p>
<h4 id="根树"><a href="#根树" class="headerlink" title="根树"></a>根树</h4><ol>
<li><p>一棵非平凡的有向树，如果恰好有一个结点的入度为0，其余所有结点的入度均为1，则称此有向树为根树。入度为0的结点称为树根，出度为0的结点称为树叶，出度不为0的结点称为内点，又将内点同树根统称为分枝点</p>
</li>
<li><p>根树包括一个或多个结点，这些节点的某一个称为根，其他所有结点被分成有限个子根树</p>
</li>
<li><p>在根树T中，任意一个结点v及其所有后代导出的子图T1称为T的以v为树根的子树</p>
</li>
<li><p>在根树中，任意一个结点v的层次即是从根到该结点的单向通路的长度，而同级的结点具有相同的通路长度</p>
</li>
<li><p>在根树中，若vi到vj可达，则称vi是vj的祖先，vj是vi的后代。若&lt;vi,vj&gt;是根树的有向边，则称vi是vj的父亲，vj是vi的儿子；如果两个结点是同一结点的儿子结点，则称这两个结点是兄弟</p>
</li>
</ol>
<h4 id="k叉树"><a href="#k叉树" class="headerlink" title="k叉树"></a>k叉树</h4><ol>
<li><p>若在根树T=&lt;V,E&gt;=(n,m)中，对任意结点vi$\in$V,都满足</p>
<ul>
<li>deg+(vi)&lt;k，则称此根树是k叉树</li>
<li>deg+(vi)=k或deg+(vi)=0，则此根树为完全k叉树</li>
<li>在完全k叉树中若所有树叶层次相同，称为正则k叉树</li>
<li>在上述1,2,3中，当k=2时，此时分别称它们为二叉树，完全二叉树，正则二叉树</li>
</ul>
</li>
<li><p>在二叉树中，每个结点v至多有两个儿子，分别称为左儿子结点和右儿子结点，二叉树的每个结点v至多有两棵子树，分别称为v的左子树和右子树</p>
</li>
<li><p>在完全k叉树中，若树叶数为t，分枝点树为j，则(k-1) j =t-1</p>
</li>
<li><p>将k叉树转换为二叉树的步骤：</p>
<p>从根节点逐级开始，按从左到右的顺序进行：</p>
<ul>
<li>除了最左边的分枝点外，删除所有从每一个结点长出的分支，在同一层级中，兄弟结点用从左到右的有向边连接</li>
<li>若一个结点是某一节点的最左边的儿子结点，则在二叉树中作为某一个结点的左儿子。</li>
<li>若一个结点与前一个结点是兄弟结点，则在二叉树中作为前一个结点的右儿子。</li>
</ul>
</li>
</ol>
<p><img src="https://i.loli.net/2020/06/23/DMGY6lpdKBWz7yJ.png" alt=""></p>
<p><img src="https://i.loli.net/2020/06/23/Rc4EI7lSovD1YxK.png" alt=""></p>
<ol start="5">
<li>森林转换成二叉树：<ul>
<li>先把森林中的每一个树转换成一棵二叉树</li>
<li>除第一棵二叉树外，依次将剩下的每颗二叉树作为左边二叉树的根的右子树，直到所有的二叉树都练成一棵二叉树为止</li>
</ul>
</li>
</ol>
<h4 id="最优树"><a href="#最优树" class="headerlink" title="最优树"></a>最优树</h4><ol>
<li><p>在根树中，一个结点的通路长度，就是从树根到此结点的通路的边数。分枝点的通路长度称作内部通路长度，树叶的通路长度称作外部通路长度</p>
</li>
<li><p>给定一组权w1,w2,…,wt,不妨设w1&lt;=w2&lt;=…&lt;=wt。设有一棵二叉树，共有t片树叶，分别带权w1,w2,…,wt，该二叉树称作带权二叉树</p>
</li>
<li><p>在带权二叉树中，若带权为wi的树叶其通路长度为L(wi)，把$w(T)=\sum_{i=1}^{t}w_{i}L(w_{i})$称为该带权二叉树的权，在所有带这些权的二叉树中，使w（T）最小的那棵树，称作最优二叉树</p>
</li>
<li><p>设T为带权的最优二叉树，(w1&lt;=w2&lt;=…wt)</p>
<ul>
<li>带权为w1,w2的树叶是兄弟</li>
<li>以树叶w1,w2为儿子的分枝点，其通路长度最长</li>
</ul>
</li>
<li><p>设T带权的最优树，若将带权w1,w2的树叶为儿子的分枝点改为带权w1+w2的树叶，得到一棵树T‘，则T’也是最优树(w1&lt;=w2&lt;=…&lt;=wt)</p>
</li>
</ol>
<p><img src="https://i.loli.net/2020/06/23/gGidljaxwfXsIKV.png" alt=""></p>
<h4 id="前缀码"><a href="#前缀码" class="headerlink" title="前缀码"></a>前缀码</h4><p>给定一个序列集合，若没有一个序列是另一个序列的前缀，该序列集合称位前缀码</p>
<p>定理：任何一棵二叉树的树叶可对应一个前缀码</p>
<p>任何一个前缀码都对应一棵二叉树</p>
<p>用二元树产生二元前缀码：</p>
<p>给一个二元树，t片叶，v是分枝点</p>
<p>若v有两个儿子，左0，右1.若只有一个，也可标0，也可标1</p>
<p>设w为T的一片叶，从根到w上各边标号组成的符号放在w处。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/%E5%AD%A6%E4%B9%A0/">学习</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AD%A6%E4%B9%A0/" rel="tag">学习</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AC%94%E8%AE%B0/" rel="tag">笔记</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-离散数学-代数系统" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2020/07/03/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6-%E4%BB%A3%E6%95%B0%E7%B3%BB%E7%BB%9F/" class="article-date">
      <time datetime="2020-07-02T16:00:00.000Z" itemprop="datePublished">2020-07-03</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2020/07/03/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6-%E4%BB%A3%E6%95%B0%E7%B3%BB%E7%BB%9F/">代数系统知识总结</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="代数系统"><a href="#代数系统" class="headerlink" title="代数系统"></a>代数系统</h1><h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2><p>设X和Y是两个任意集合，而f是X到Y的一个二元关系，如果对于每一个x$\in$X,有唯一的y$\in$Y，使得&lt;x,y&gt;$\in$f，则称f是从X到Y的一个映射（函数），记作f:X$\rightarrow$Y,若&lt;x,y&gt;$\in$f，通常记y为f(x)，称x是自由变元，称y为x在映射下的象。</p>
<p>运算：</p>
<p>对于集合A，一个从A$^{n}\rightarrow$B的映射，称集合A上的一个n元运算。</p>
<p>一个非空集合A连同若干个定义在该集合的运算f1,f2,…,fi所组成的系统，封闭，称为一个代数系统，记作&lt;A,f1,f2,…,fk&gt;</p>
<p>设A是一个非空集合，$A^{n}$到B的一个映射f:A$^{n}\rightarrow$B,若B$\sub$A,则称映射f关于集合A是封闭的（或称A对f是封闭的）。</p>
<p>几个代数系统：</p>
<p><img src="https://i.loli.net/2020/06/23/nKE1XhNkajv76M5.png" alt=""></p>
<p>运算及其性质</p>
<p>定义：设“<em>”是定义在集合A上的二元运算，&lt;A,</em>&gt;是一个代数系统，对$\forall a,b,c\in A$若满足：</p>
<ol>
<li>a<em>b$\in$A,则称运算“\</em>”在集合上是封闭的。</li>
<li>a*b=b*a则称运算“*”在集合A上是可交换的或称运算“*”在A上满足交换律</li>
<li>(a<em>b)*c=a\</em>(b*c),则称运算在集合A上是可结合的，或称运算在A上满足结合律</li>
</ol>
<p>设“*”、“$\circ$”是集合A上的两个二元运算，对$\forall a,b,c\in A$，若满足：</p>
<ol>
<li>$a\circ (a<em>b)=a或a</em>(a\circ b)=a$，则称两运算在A上满足吸收律</li>
<li>$a\circ(b<em>c)=(a\circ b)</em>(a\circ c)$,则称运算“$\circ$”对“*”在A上满足左分配律</li>
<li>$(b<em>c)\circ a=(b\circ a)</em>(c\circ a)$，则称运算“$\circ$”对“<em>”在A上满足右分配律。如果既是左分配的又是右分配的，则称运算“0”对“\</em>”是可分配的。</li>
</ol>
<p>设“<em>”是集合A上的二元运算，若$\exist a\in A$，有：a\</em>a=a，则称a为A上的等幂元，若A中的一切元素都是等幂元，则称运算”*“在A上满足等幂律。</p>
<p>设“*”是集合A上的二元运算，若$\exist e\in A$，使得对$\forall a\in A$，都有：</p>
<ol>
<li>a<em>e=a,则称e为运算“\</em>”关于A的右单位元素或右幺元，记为$e_{r}$</li>
<li>e<em>a=a，则称e为运算“\</em>”关于A的左单位元素或左幺元又记为e1.</li>
<li>a*e=e*a=a,则称e为运算“*”关于A的单位元素或幺元</li>
</ol>
<p>设&lt;S,<em>&gt;是一个代数系统，若&lt;S,\</em>&gt;存在左右幺元，则它们一定相等，且是幺元；若存在幺元，则幺元唯一。</p>
<p>设“*”是集合A上的二元运算，如$\exist \theta\in A$，使得对$\forall a\in A$,都有:</p>
<ol>
<li>$a<em>\theta=\theta$，则称$\theta$为运算“</em>”关于A的右零元</li>
<li>$\theta<em>a=\theta$,则称“$\theta$”为运算“</em>”关于A的左零元</li>
<li>$a<em>\theta=\theta</em>a=\theta$,则称$\theta$为运算“*”关于A的零元</li>
</ol>
<p>设&lt;S,<em>&gt;是一个代数系统，若&lt;S,\</em>&gt;存在左右零元，则他们一定相等且是零元。零元唯一</p>
<p>设“<em>”是集合A上的二元运算，e是&lt;A,\</em>&gt;的幺元，对$a\in A$,若$\exist b\in A$,使得：</p>
<ol>
<li>a<em>b=e，则称b为a关于运算“\</em>”右逆元，a也称为右可逆的，记为$a^{-1}_{r}=e$</li>
<li>b<em>a=e,则称b为a关于运算“\</em>”左逆元，a也称为左可逆的</li>
<li>a<em>b=b</em>a=e,称b为a关于运算“*”的逆元，a也称为可逆的</li>
</ol>
<p>设&lt;S,<em>&gt;是一个代数系统，若“*”满足结合律且e是&lt;S,\</em>&gt;的幺元，则对$\forall a\in S$，若存在左右逆元，则该左右逆元一定相等，且是该元的逆元。逆元若存在，则唯一</p>
<p>设&lt;S,*&gt;是一个代数系统，且集合S中的元素个数大于1.如果该代数系统中存在幺元和零元，则幺元不等于零元</p>
<p>设&lt;A,*&gt;是一个代数系统，则：</p>
<p><img src="https://i.loli.net/2020/06/23/RWcBqEk45DMwCZS.png" alt=""></p>
<p>半群：设&lt;S,<em>&gt;是一个代数系统，S为非空集合。若运算“\</em>”是封闭的，则称此代数系统是一个广群</p>
<p>设&lt;S,<em>&gt;是一个代数系统，如运算“\</em>”封闭的，可结合的，则此二元代数系统是一个半群，若运算”*“又是可交换的，则称此代数系统可交换半群</p>
<p>设&lt;S,*&gt;是一个半群，$B\subseteq$S且<em>在B上封闭，那么&lt;B,\</em>&gt;也是一个半群称为&lt;S,*&gt;的子半群</p>
<p>设&lt;H,<em>&gt;是一个半群，如果H是一个有限集，则必有$a\in H$使得a\</em>a=a</p>
<p>设&lt;S,*&gt;是一个半群，若该半群存在幺元e，则称此半群&lt;S,*&gt;是一个独异点（或含幺半群），进一步，若运算*又是可交换运算，则称此独异点为可交换的独异点（可交换的含幺半群）</p>
<p>一个独异点&lt;S,*&gt;的运算表中的任何两行（列）都是不同的</p>
<p>设&lt;S,*&gt;是一个独异点，对任意$a,b\in S$，且a，b均有逆元</p>
<p>群：</p>
<p>给定一个代数系统&lt;G,<em>&gt;，若运算\</em>满足：</p>
<p>封闭，结合，存在幺元，对于任意一个集合中的元素都有逆元，则称&lt;G,*&gt;是一个群，简称G是一个群，称|G|为群G的阶</p>
<p>进一步满足：</p>
<p>运算*满足交换律，则称为交换群或阿贝尔群</p>
<p>|G|有限，有限群</p>
<p>|G|无限，无限群</p>
<p>阶数大于1的群无零元</p>
<p>设&lt;G,*&gt;是一个群，对于a,b,c$\in$G,如果a<em>b=a</em>c或者b*a=c*a，则必有b=c（消去律）</p>
<p>群中除幺元外无其他幂等元</p>
<p>子群：</p>
<p>设&lt;G,*&gt;是一个群，H是G的一个非空子集，若H关于G的运算<em>构成群，则称&lt;H,\</em>&gt;是&lt;G,*&gt;的一个子群</p>
<p>一般来说，对任意的群都有两个&lt;{e},<em>&gt;,&lt;G,\</em>&gt;我们称这两个子群为该群的平凡子群，而若有子群&lt;H,*&gt;，且H$\neq${e}和H$\sub$G,则称&lt;H,*&gt;为&lt;G,*&gt;的真子群</p>
<p>设&lt;G,*&gt;是一个群，&lt;H,<em>&gt;是&lt;G,\</em>&gt;的子群，则群&lt;G,*&gt;的幺元必定也是子群的幺元</p>
<p>设&lt;G,*&gt;是一个子群，H是G的一个有限非空子集，那么只要运算在H上封闭，&lt;H,*&gt;必定是&lt;G,*&gt;的子群</p>
<p>设&lt;G,*&gt;是一个群，H是G的一个非空子集，如果对于H中的任何元素a和b有$a* b^{-1}\in H$,则&lt;H,<em>&gt;是&lt;G,\</em>&gt;的子群</p>
<p>设&lt;G,*&gt;是一个群，H1，H2，。。。Hn是G的n和子群，则有H=H1$\cap$H2$\cap\cdots\cap H_{n}$是G的子群</p>
<p>设&lt;G,<em>&gt;是一个群，则&lt;G,\</em>&gt;作成交换群的充分必要条件是：对$\forall a,b\in G$有(a*b)*(a*b)=(a*a)*(b*b)</p>
<p>设&lt;G,*&gt;是一个群，若G中存在元素a，使得对$\forall x\in G$都有x=$a^{n}(n\in I)$，则称&lt;G,*&gt;是由a所生成的循环群，常记群G=(a)，而a成为该循环群的生成元，群G中的一切生成元构成的集合叫做该群G的生成集</p>
<p>循环群一定是阿贝尔群</p>
<p>设&lt;G,*&gt;=(a)是一个有限循环群，如果群G的阶为n，则a的周期/阶为n</p>
<table>
<thead>
<tr>
<th>代数系统</th>
<th>半群</th>
<th>独异点</th>
<th>群</th>
</tr>
</thead>
<tbody><tr>
<td>二元运算，封闭，V=&lt;S,*&gt;</td>
<td>+可结合</td>
<td>+可结合+单位元</td>
<td>+可结合+单位元+互逆元素</td>
</tr>
</tbody></table>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/%E5%AD%A6%E4%B9%A0/">学习</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AD%A6%E4%B9%A0/" rel="tag">学习</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AC%94%E8%AE%B0/" rel="tag">笔记</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-离散数学-数理逻辑" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2020/07/03/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6-%E6%95%B0%E7%90%86%E9%80%BB%E8%BE%91/" class="article-date">
      <time datetime="2020-07-02T16:00:00.000Z" itemprop="datePublished">2020-07-03</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2020/07/03/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6-%E6%95%B0%E7%90%86%E9%80%BB%E8%BE%91/">数理逻辑知识总结</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="离散数学"><a href="#离散数学" class="headerlink" title="离散数学"></a>离散数学</h1><h2 id="数理逻辑"><a href="#数理逻辑" class="headerlink" title="数理逻辑"></a>数理逻辑</h2><h3 id="命题逻辑"><a href="#命题逻辑" class="headerlink" title="命题逻辑"></a>命题逻辑</h3><h4 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h4><ol>
<li><p>==命题==：具有确切真值的陈述句称为命题。</p>
</li>
<li><p>==真值==：一个命题总有一个值，一般来讲，命题是正确的则真值为真，命题为错误的真值为假，这称为命题的真值。     真值只有真假两种，分别用“T”（1）和“F”（0）表示。</p>
</li>
<li><p>==原子（简单）命题==：不能再分解为更简单命题的命题。</p>
</li>
<li><p>==复合命题==：可以分解的命题</p>
</li>
<li><p>==命题变量==：一个表示确定命题的命题标识符</p>
</li>
<li><p>==命题变元==：表示任一命题的命题标识符。（命题变元不是命题）</p>
</li>
<li><p>==原子变元==：命题变元是原子命题</p>
</li>
<li><p>==指派/解释==：当命题变元P用一个特定的命题取代时，P才能确定真值，称为对P进行指派。若公式G在解释I下是真，则称I满足G，I是G的成真赋值。反之称I弄假于G。</p>
</li>
<li><p>==命题公式==：由命题变量、命题变元、联结词和括号等组成的复合命题形式，这些符号不能任意组合，必须按下列定义：</p>
<ol>
<li>命题变元本身是一个公式</li>
<li>若P是公式，<strong>┐</strong>P也是公式</li>
<li>如PQ是公式，则P$\land$Q、P$\lor$Q,P$\rightarrow$Q,P$\leftrightarrow$Q也是公式</li>
<li>仅由有限步骤使用规则1-3后产生的结果。</li>
</ol>
</li>
<li><p>==真值表==：公式G在其所有可能的解释下所取真值的表。</p>
</li>
<li><p>==等价公式==：给定两个命题公式A和B，P1，P2，…Pn为所有于出现、并A和B中的原子变元，若给所有命题变元任一组真值指派，A和B的真值相同，则称A和B是等价的或者逻辑相等。充分必要条件是，G$\leftrightarrow$H</p>
</li>
<li><p>[基本等价公式](#### 基本等价公式)</p>
</li>
<li><p>==子公式==：如果X是合式公式A的一部分，且X本身也是一个合式公式，则称X为公式A的子公式。</p>
</li>
<li><p>==等价置换==：设X是合式公式A的子公式，若X$\leftrightarrow$Y,如果将A中的X用Y来置换，所得公式B和公式A等价。</p>
</li>
<li><p>==合取范式==：一个命题公式称为合取范式，当且仅当它具有形式：$A_{1}\land A_{2}\land \cdots \land A_{n}(n\geq 1)$其中A都是由命题变元或其否定所组成的析取式。</p>
</li>
<li><p>==析取范式==：$A_{1}\lor A_{2}\lor \cdots A_{n}(n\geq 1)$其中A都是由命题变元、逼格额其否定所组成的合取式。</p>
</li>
<li><p>命题公式的析取范式可以指出公式何时为真，而合取范式可以指出公式何时为假，从而代替真值表。</p>
</li>
<li><p>==小项==：n个命题变元的合取式，称为布尔合取或小项，但是每个变元、并为和他的否定不能同时、exist是，但两者必须出现且仅出现一次。</p>
<ol>
<li>每个小项当其真值指派、并为大哥编码相同时，其真值为T，其余情况都是F</li>
<li>两个不同小项的合取永假</li>
<li>全体小项的析取式永真</li>
</ol>
</li>
<li><p>==主析取范式==：对于给定的命题公式，如果有一个等价公式，它仅由小项的析取所组成，则该等价公式称作原式的主析取范式。在真值表中，是真值为1的指派所对应小项的析取。</p>
</li>
<li><p>==大项==：n个命题变元的析取式，称作布尔析取、逼格额大项，其中每个变元和她的否定不能同时存在，但两者必须出现且仅出现一次。</p>
<ol>
<li>每个大项当其真值指派、并为大哥编码相同时，其真值是F，其余均为T</li>
<li>任何两个不同大项的析取式永真</li>
<li>全体大项的合取式永假</li>
</ol>
</li>
<li><p>==主合取范式==：对于给定的命题公式，如果有一个等价公式，它仅由大项的合取组成，则该等价式称为原式的主合取范式。在真值表中，一个公式的真值为F的指派所对应的大项的合取，即为此公式的主合取范式。</p>
</li>
<li><p>命题公式永真但且仅当它的主析取范式包含所有的小项，主合取范式为空。永假公式反之。</p>
</li>
<li><p>两个命题公式相等当且仅当它们的主析取范式、主合取范式相等。</p>
</li>
<li><p>==永真公式（重言式）==：所有解释之下都是真</p>
</li>
<li><p>==永假公式（矛盾式）==：在所有的解释之下都是假</p>
</li>
<li><p>==可满足==的，不是永假</p>
</li>
<li><p>==蕴含==：当且仅当P→Q是一个重言式时，称P蕴含Q，记作P$\rightarrow$Q。</p>
</li>
<li><p>==推理==：设A和C是两个命题公式，当且仅当A$\rightarrow$C为永真公式，成C是A的有效结论。C由A逻辑地推出。定义可以推广到n个前提的情况，C为一组前提的有效结论。</p>
</li>
<li><p>其他联结词：</p>
<p><img src="https://i.loli.net/2020/06/19/mixId3CSAGO6nhz.png" alt=""></p>
<p><img src="https://i.loli.net/2020/06/19/wrfLA1uDRqElPbn.png" alt=""></p>
</li>
<li><p>==最小联结词组==：设有一联结词集合A，A中的联结词的等价公式可表达任何命题公式，删除A中的任何一个联结词，至少有一个命题公式B不能表达。</p>
<p><img src="https://i.loli.net/2020/06/19/6lb5drYQsO3ogCi.png" alt="">                                             </p>
</li>
</ol>
<h4 id="联结词"><a href="#联结词" class="headerlink" title="联结词"></a>联结词</h4><table>
<thead>
<tr>
<th align="center">联结词</th>
<th align="center">记号</th>
<th align="center">记法</th>
<th align="center">真值结果</th>
</tr>
</thead>
<tbody><tr>
<td align="center">否定</td>
<td align="center"><strong>┐</strong></td>
<td align="center"><strong>┐</strong>P</td>
<td align="center"><strong>┐</strong>P为真当且仅当P为假</td>
</tr>
<tr>
<td align="center">合取</td>
<td align="center">$\land $</td>
<td align="center">P$\land $Q</td>
<td align="center">P$\land $Q为真当且仅当PQ同时为真</td>
</tr>
<tr>
<td align="center">析取</td>
<td align="center">$\lor $</td>
<td align="center">P$\lor $Q</td>
<td align="center">当且仅当PQ中至少一个是真</td>
</tr>
<tr>
<td align="center">条件</td>
<td align="center">$\rightarrow$</td>
<td align="center">P$\rightarrow$Q</td>
<td align="center">为假当且仅当P为真Q为假</td>
</tr>
<tr>
<td align="center"></td>
<td align="center">$\leftrightarrow$</td>
<td align="center">P$\leftrightarrow$Q</td>
<td align="center">当且仅当PQ同真假</td>
</tr>
</tbody></table>
<p><img src="https://i.loli.net/2020/06/19/mqZ31RbczL6Gs5K.png" alt=""></p>
<p>联结词的优先级：非，合取，析取，条件，双条件                                                                                         </p>
<h4 id="命题符号化"><a href="#命题符号化" class="headerlink" title="命题符号化"></a>命题符号化</h4><ol>
<li>确定给定句子是否为命题</li>
<li>列出原子命题</li>
<li>句子中连词是否为命题联结词</li>
<li>根据命题含义，正确表示原子和适当选择命题联结词</li>
</ol>
<h4 id="基本等价公式"><a href="#基本等价公式" class="headerlink" title="基本等价公式"></a>基本等价公式</h4><p>$$<br>幂等律：G \land G=G\<br>G \lor G=G\<br>交换律：G\land H=H\lor G\<br>G\lor H=H\lor G\<br>结合律：G\lor(H\lor S)=(G\lor H)\lor S\<br>G\and (H\land S)=(G\land H)\land S\<br>同一律：G\lor 0=G\<br>G\land 1=G\<br>零律：G\lor 1=1\<br>G\land 0=0\<br>分配律：G\lor (H\land S)=(G\lor H)\land(G\lor S)\<br>G\land(H\lor S)=(G\land H)\lor(G\land S)\<br>吸收律：G\lor (G\land H)=G\<br>G\land(G\lor H)=G\<br>矛盾律：┐G\land G=0\<br>排中律：┐G\lor G=1\<br>双重否定律：┐(┐G)=G\<br>德摩根律：┐(G\lor H)=┐G\land ┐H\<br>┐(G\land H)=┐G\lor ┐H\<br>蕴含式：G\rightarrow H=┐G\lor H\<br>假言易位：G\rightarrow H=┐H\rightarrow ┐G\<br>等价式：G\leftrightarrow H=(G\rightarrow H)\land(H\rightarrow G)=(┐G\lor H)\land(┐H\lor G)\<br>归谬论：(G\rightarrow H)\land(G\rightarrow ┐H)=┐G<br>$$</p>
<h4 id="判断命题公式逻辑等价的方法"><a href="#判断命题公式逻辑等价的方法" class="headerlink" title="判断命题公式逻辑等价的方法"></a>判断命题公式逻辑等价的方法</h4><ol>
<li>真值表</li>
<li>基本等价公式</li>
<li>等值置换</li>
<li>等值关系的传递性</li>
</ol>
<h4 id="求合取范式和析取范式的方法"><a href="#求合取范式和析取范式的方法" class="headerlink" title="求合取范式和析取范式的方法"></a>求合取范式和析取范式的方法</h4><ol>
<li>简化联结词：将公式中的联结词化归成合取，析取以及非。</li>
<li>否定深入：利用德摩根律将“非”直接移到各个命题变元之前。</li>
<li>归约：利用分配律、结合律归约成合取范式、逼格额析取范式</li>
</ol>
<h4 id="求出主析取范式的方法"><a href="#求出主析取范式的方法" class="headerlink" title="求出主析取范式的方法"></a>求出主析取范式的方法</h4><ol>
<li><p>公式的真值表</p>
</li>
<li><p>基本等价公式</p>
<ol>
<li>化归为析取范式</li>
<li>除去析取范式中所有永假的析取项</li>
<li>将析取式中重复出现的析取项和相同的变元合并</li>
<li>对析取项补入没有出现的命题变元，添加（P析取非P），然后，用分配律展开</li>
</ol>
<p><img src="https://i.loli.net/2020/06/19/6FROMrvcQk25Yqn.png" alt=""></p>
</li>
</ol>
<h4 id="求主合取范式的方法"><a href="#求主合取范式的方法" class="headerlink" title="求主合取范式的方法"></a>求主合取范式的方法</h4><ol>
<li>真值表</li>
<li>基本等价公式<ol>
<li>划归为合取范式</li>
<li>除去合取范式中永真的合取项</li>
<li>合并相同的合取项和相同的变元</li>
<li>对合取项补入没有出现的命题变元，即添加（P合取非P）式，然后，分配律展开</li>
</ol>
</li>
</ol>
<h4 id="主范式间的转换"><a href="#主范式间的转换" class="headerlink" title="主范式间的转换"></a>主范式间的转换</h4><p><img src="https://i.loli.net/2020/06/19/jTeqGPKgpC5ILkD.png" alt=""></p>
<p><img src="https://i.loli.net/2020/06/19/fdyGlS79JLbIq8E.png" alt=""></p>
<h4 id="证明永真（假）的方法"><a href="#证明永真（假）的方法" class="headerlink" title="证明永真（假）的方法"></a>证明永真（假）的方法</h4><ol>
<li>真值表</li>
<li>证明和T（F）等价</li>
</ol>
<h4 id="证明蕴含的方法"><a href="#证明蕴含的方法" class="headerlink" title="证明蕴含的方法"></a>证明蕴含的方法</h4><ol>
<li>指定前件真值为T，若由此推出Q的真值也是T，得证</li>
<li>指定后件Q的真值是F，若由此推出P的真值也是F，得证</li>
</ol>
<h4 id="常用的蕴含式"><a href="#常用的蕴含式" class="headerlink" title="常用的蕴含式"></a>常用的蕴含式</h4><p><img src="https://i.loli.net/2020/06/19/Wrljb1IqGkwLf5Q.png" alt=""></p>
<p><img src="https://i.loli.net/2020/06/19/IWtqrju9eXMhCDP.png" alt=""></p>
<h4 id="推理的方法"><a href="#推理的方法" class="headerlink" title="推理的方法"></a>推理的方法</h4><ol>
<li><p>真值表法</p>
<ol>
<li>在所有行中，只要有一行的前提是真，结论是真，则得证</li>
<li>在所有行中，只要有一行的结论是假，且前提也是假，则得证</li>
</ol>
</li>
<li><p>直接证法</p>
<p>推理规则：</p>
<ol>
<li>规则P（前提引入规则）：前提在推到过程中随时引入。</li>
<li>规则T（逻辑结果引入规则）：在推导过程中，如果有一个、多个公式蕴含着公式S，则公式S可以引入推导之中。</li>
<li>规则CP（附加前提规则）：如果能从给定的前提集合T和公式P推导出S，则能从此T推导出P$\rightarrow$S(使用场景是结论公式是蕴含式或者析取式)</li>
</ol>
<p><img src="https://i.loli.net/2020/06/19/HBjic4ZdtR65DKo.png" alt=""></p>
</li>
<li><p>间接证法</p>
<p><img src="https://i.loli.net/2020/06/19/rANkJ5qsECfKucp.png" alt=""></p>
<p><img src="https://i.loli.net/2020/06/19/U4ywEjnlBuSF8tx.png" alt=""></p>
</li>
</ol>
<h3 id="谓词逻辑"><a href="#谓词逻辑" class="headerlink" title="谓词逻辑"></a>谓词逻辑</h3><h4 id="基本概念-1"><a href="#基本概念-1" class="headerlink" title="基本概念"></a>基本概念</h4><ol>
<li>在句子中可以独立存在的客体称为==个体词==，而用以刻画客体的属性或者客体之间关系的是==谓词==。</li>
<li>表示具体或者特定的个体词称为==个体常量==</li>
<li>表示抽象或者泛指的个体词称为==个体变量==</li>
<li>个体词的取值范围叫做==个体域==或论域，常用D表示。而宇宙间所有个体域聚集在一起所构成的个体域称为==全总个体域==</li>
<li>==简单命题函数==：由一个谓词、一些客体变元组成的表达式</li>
<li>==复合命题函数==：由一个或者n个简单命题函数以及逻辑连接词组合而成的表达式</li>
<li>==命题函数==：简单命题函数和复合命题函数的统称</li>
<li>命题函数不是命题，只有客体变元取特定的名称时才能成为一个命题。</li>
<li>全称量词：$\forall$,存在量词：$\exist$</li>
<li>($\forall$x)F(x)或($\exist$x)F(x)中，x称为==作用变量==，F(x)称为量词的==辖域==。 </li>
<li>特性谓词加入命题函数中是遵循的原则：<ol>
<li>对于全程量词，刻画其对应个体域的特性谓词作为蕴含的前件加入</li>
<li>对于存在量词，刻画其对应个体域的特性谓词作为合取式之合取项加入</li>
</ol>
</li>
<li>==谓词公式==：<ul>
<li>原子谓词公式是谓词公式</li>
<li>若A是谓词公式，非A也是谓词公式</li>
<li>若AB是谓词公式，则他们的合取，析取，条件，双条件都是谓词公式</li>
<li>若A是谓词公式，X是A中出现的变元，则（$\forall$x）A与($\exist$x)A也是谓词公式</li>
<li>有限次上述过程得到的</li>
</ul>
</li>
<li>==函数符号==：表示个体词之间的转换，如F(x):x的父亲</li>
<li>==项==：任意的常量符号或者任意的变量符号是项。若f(x1,x2,…xn)是n元函数符号，t1,t2…tn是项，则f（t1,…tn）是项</li>
<li>==原子公式==：若P(x1,…xn)是n元谓词，t1…tn是项，则称P(t1…tn)为原子公式</li>
<li>==合式公式==：<ul>
<li>原子公式</li>
<li>原子公式的非，析取，合取，条件，双条件</li>
<li>原子公式前加量词</li>
<li>以上三种的有限次组合</li>
</ul>
</li>
<li>==作用变元==：量词后所跟的x叫做量词的指导变元或作用变元</li>
<li>==作用域==：P（x）叫做相应量词的作用域或辖域</li>
<li>==约束变元==：在作用域中变元x的出现称为约束出现，此时的变元x称为约束变元</li>
<li>==自由变元==：若x的出现不是约束出现，则称它为自由出现，此时的变元称为自由变元。</li>
<li>==闭式==：无自由变元的公式</li>
<li>==约束变元的改名==：（约束变元的改名规则）<ul>
<li>将量词中出现的变元以及该量词辖域中此变量之所有约束出现都用新的变元替换</li>
<li>新的变元一定要有别与改名辖域中所有其它变量</li>
</ul>
</li>
<li>==自由变元的代入==（自由变元的代入规则）<ul>
<li>将公式中出现该自由变元的每一处都用新的变元替换</li>
<li>新变元不允许在原公式中以任何约束形式出现</li>
</ul>
</li>
<li>==赋值/解释==：在谓词公式中客体变元由确定的客体取代，命题变元由确定的命题取代。</li>
<li>==等价式==：给定的两个谓词公式，设他们有共同的个体域E，若对A与B的任一组变元进行赋值，所得命题的真值相同，则称谓词公式A和B在E上是等价的。</li>
<li>==前束范式==：一个公式，如果量词全在公式开头，它们的作用域延伸到公式末尾，则该公式叫做前束范式。</li>
</ol>
<h4 id="谓词中的基本等价公式"><a href="#谓词中的基本等价公式" class="headerlink" title="谓词中的基本等价公式"></a>谓词中的基本等价公式</h4><p>$$<br>改名等价规则：\<br>(\exist x)G(x)=(\exist y)=G(y)\<br>(\forall x)G(x)=(\forall y)G(y)\<br>(\forall x)G(x)\lor (\forall x)H(x)=(\forall x)(\forall y)(G(x)\lor H(y))\<br>(\exist x)G(x)\land (\exist x)H(x)=(\exist x)(\exist y)(G(x)\land H(y))\<br>量词转换律：\<br>┐(\exist x)G(x)=(\forall x)┐G(x)\<br>┐(\forall x)G(x)=(\exist x)┐G(x)\<br>量词分配律：\<br>(\forall x)(A(x)\land B(x))=(\forall x)A(x)\land (\forall x)B(x)\<br>(\exists x)(A(x)\lor B(x))=(\exists x)A(x)\lor (\exists x)B(x)\<br>量词作用域的扩张和收缩：\<br>(\forall x)(A(x)\lor B)=(\forall x)A(x)\lor B\<br>(\forall x)(A(x)\land B)=(\forall x)A(x)\land B\<br>(\exists x)(A(x)\lor B)=(\exists x)A(x)\lor B\<br>(\exists x)(A(x)\land B)=(\exists x)A(x)\land B\<br>(\forall x)(\forall y)A(x,y)=(\forall y)(\forall x)A(x,y)\<br>(\exist x)(\exist y)A(x,y)=(\exist y)(\exist x)A(x,y)<br>$$</p>
<p><img src="https://i.loli.net/2020/06/20/ocm2BgxVZUStiPh.png" alt=""></p>
<p><img src="https://i.loli.net/2020/06/20/6ZDHmNkMB2RrWqz.png" alt=""></p>
<h4 id="常用的蕴含关系"><a href="#常用的蕴含关系" class="headerlink" title="常用的蕴含关系"></a>常用的蕴含关系</h4><p><img src="https://i.loli.net/2020/06/20/9jyO8vkitmKaSQ4.png" alt=""></p>
<h4 id="化为前束范式的方法"><a href="#化为前束范式的方法" class="headerlink" title="化为前束范式的方法"></a>化为前束范式的方法</h4><ol>
<li>消去条件，双条件联结词</li>
<li>┐内移</li>
<li>变元换名</li>
<li>量词提前</li>
</ol>
<p>例题：</p>
<p><img src="https://i.loli.net/2020/06/20/cpAKX4PSzCukwg8.png" alt=""></p>
<h4 id="推理规则"><a href="#推理规则" class="headerlink" title="推理规则"></a>推理规则</h4><p>全称特指规则（US）：$(\forall x)P(x)\rightarrow P(c)$</p>
<ul>
<li>x是P（x）中自由出现的个体变量</li>
<li>c是任意的个体变量</li>
</ul>
<p>存在特指规则（ES）：$(\exist x)P(x)\rightarrow P(c)$</p>
<ul>
<li>x是P（x）中自由出现的个体变量</li>
<li>在P（x）中变元x的每一次自由出现都用相同的个体变量c代入</li>
<li>c是使P(x)为真的特定个体变量</li>
<li>此c是在推导之前从未使用过的</li>
</ul>
<p>全称推广规则（UG）：$P(y)\rightarrow (\forall x)P(x)$</p>
<ul>
<li>y是P(y)中自由出现的个体变量。且y取遍整个个体域时都有P（y）为真</li>
<li>对P(y)中不满足假设前提（使P(y)为真）的自由变元y不能使用该规则</li>
<li>添加的量词中的x和取代y的x不能在P(y)中以约束身份出现</li>
<li>对于曾经由使用规则ES所得公式中原来的约束变元不能使用该规则</li>
</ul>
<p>存在推广规则（EG）：$P(c)\rightarrow(\exist x)P(x)$</p>
<ul>
<li>c是使P(c)为真的特定个体变量</li>
<li>取代c的x和添加的量词中的x不能在P(c)中以任何约束出现</li>
</ul>
<h4 id="谓词推理中注意的问题"><a href="#谓词推理中注意的问题" class="headerlink" title="谓词推理中注意的问题"></a>谓词推理中注意的问题</h4><ul>
<li><p>在推导中，可引用命题演算中的P、T和CP规则。</p>
</li>
<li><p>为了在推导中消去量词，可引用US和ES来消去量词。</p>
</li>
<li><p>当结论可能被定量时，可引用UG和EG将其量词加入。</p>
</li>
<li><p>证明时可采用如命题演算中的直接证法和间接证法。</p>
</li>
<li><p>在推导中，对消去量词的公式或公式中没含量词的子公式，完全可引用命题演算中的基本等价和蕴涵公式。</p>
</li>
<li><p>在推导中，对含有量词的公式可引用谓词中的基本等价和蕴涵公式。</p>
</li>
<li><p>在推导中，如既要使用US又要使用ES消去公式中的词,只要有可能，总是先使用ES，再使用US。然后再用命题演算中的推理规则，最后使用UG或EG引入量词，得到所要的结论。</p>
</li>
<li><p>如一个变量是用ES消去量词，对该变量在添加量词时，则只能使用EG，而不能使用UG;如使用US消去量词，对该变量在添加量词时，则可使用EG和UG。</p>
</li>
<li><p>如有两个含有存在量词的公式，当用ES消去量词时，不能选用同样的一个常量符号来取代两个公式中的变元，而应用不同的常量符号来取代它们。</p>
</li>
<li><p>在用US和ES消去量词时，此量词必须位于整个公式的最前端。</p>
</li>
<li><p>在添加的量词($\forall $x)、($\exists$x)时，所选用的x不能在公式P(c)中以任何约束出现。</p>
</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/%E5%AD%A6%E4%B9%A0/">学习</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AD%A6%E4%B9%A0/" rel="tag">学习</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AC%94%E8%AE%B0/" rel="tag">笔记</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/5/">&amp;laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/7/">Next &amp;raquo;</a>
    </nav>
  

</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2020 Jian Shengnan
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank">Hexo &nbsp;&nbsp;</a><a href="https://github.com/maochunguang" target="_blank">Blog</a> by tommy
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" >极客到访数: 
                            <span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>, </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit">本页阅读量: 
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
    <span id="busuanzi_container_page_pv">
        本文总阅读量<span id="busuanzi_value_page_pv"></span>次
    </span>
</footer>

    </div>
    
<script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>


<script src="/js/main.js"></script>


    <script>
        $(document).ready(function() {
            var backgroundnum = 5;
            var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
            $("#mobile-nav").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
            $(".left-col").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
        })
    </script>


<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'xxxxx', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->



	<script>
	var _hmt = _hmt || [];
	(function() {
	  var hm = document.createElement("script");
	  hm.src = "//hm.baidu.com/hm.js?xxxxxx";
	  var s = document.getElementsByTagName("script")[0]; 
	  s.parentNode.insertBefore(hm, s);
	})();
	</script>



<div class="scroll" id="scroll">
    <a href="#"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

  <script language="javascript">
    $(function() {
        $("a[title]").each(function() {
            var a = $(this);
            var title = a.attr('title');
            if (title == undefined || title == "") return;
            a.data('title', title).removeAttr('title').hover(
            function() {
                var offset = a.offset();
                $("<div id=\"anchortitlecontainer\"></div>").appendTo($("body")).html(title).css({
                    top: offset.top - a.outerHeight() - 15,
                    left: offset.left + a.outerWidth()/2 + 1
                }).fadeIn(function() {
                    var pop = $(this);
                    setTimeout(function() {
                        pop.remove();
                    }, pop.text().length * 800);
                });
            }, function() {
                $("#anchortitlecontainer").remove();
            });
        });
    });
</script>


  </div>
</body>
</html>